        -:    0:Source:D:/Qt/6.10.1/mingw_64/include/QtCore/qstring.h
        -:    0:Graph:C:\Users\lenovo\Desktop\Diagramscene_ultima-syz\debug/moc_mainwindow.gcno
        -:    0:Data:C:\Users\lenovo\Desktop\Diagramscene_ultima-syz\debug/moc_mainwindow.gcda
        -:    0:Runs:1
        -:    1:// Copyright (C) 2020 The Qt Company Ltd.
        -:    2:// Copyright (C) 2019 Intel Corporation.
        -:    3:// Copyright (C) 2019 Mail.ru Group.
        -:    4:// Copyright (C) 2020 Klar√§lvdalens Datakonsult AB, a KDAB Group company, info@kdab.com, author Marc Mutz <marc.mutz@kdab.com>
        -:    5:// SPDX-License-Identifier: LicenseRef-Qt-Commercial OR LGPL-3.0-only OR GPL-2.0-only OR GPL-3.0-only
        -:    6:// Qt-Security score:critical reason:data-parser
        -:    7:
        -:    8:#ifndef QSTRING_H
        -:    9:#define QSTRING_H
        -:   10:
        -:   11:#if defined(QT_NO_CAST_FROM_ASCII) && defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -:   12:#error QT_NO_CAST_FROM_ASCII and QT_RESTRICTED_CAST_FROM_ASCII must not be defined at the same time
        -:   13:#endif
        -:   14:
        -:   15:#include <QtCore/qchar.h>
        -:   16:#include <QtCore/qcompare.h>
        -:   17:#include <QtCore/qbytearray.h>
        -:   18:#include <QtCore/qbytearrayview.h>
        -:   19:#include <QtCore/qarraydata.h>
        -:   20:#include <QtCore/qarraydatapointer.h>
        -:   21:#include <QtCore/qlatin1stringview.h>
        -:   22:#include <QtCore/qnamespace.h>
        -:   23:#include <QtCore/qstringalgorithms.h>
        -:   24:#include <QtCore/qanystringview.h>
        -:   25:#include <QtCore/qstringtokenizer.h>
        -:   26:
        -:   27:#include <string>
        -:   28:#include <iterator>
        -:   29:#include <QtCore/q20memory.h>
        -:   30:#include <string_view>
        -:   31:#include <QtCore/q23type_traits.h>
        -:   32:
        -:   33:#include <stdarg.h>
        -:   34:
        -:   35:#ifdef truncate
        -:   36:#error qstring.h must be included before any header file that defines truncate
        -:   37:#endif
        -:   38:
        -:   39:#if defined(Q_OS_DARWIN) || defined(Q_QDOC)
        -:   40:Q_FORWARD_DECLARE_CF_TYPE(CFString);
        -:   41:Q_FORWARD_DECLARE_OBJC_CLASS(NSString);
        -:   42:#endif
        -:   43:
        -:   44:class tst_QString;
        -:   45:
        -:   46:QT_BEGIN_NAMESPACE
        -:   47:
        -:   48:class qfloat16;
        -:   49:class QRegularExpression;
        -:   50:class QRegularExpressionMatch;
        -:   51:class QString;
        -:   52:
        -:   53:namespace QtPrivate {
        -:   54:template <bool...B> class BoolList;
        -:   55:
        -:   56:template <typename Char>
        -:   57:using IsCompatibleChar32TypeHelper =
        -:   58:    std::is_same<Char, char32_t>;
        -:   59:template <typename Char>
        -:   60:using IsCompatibleChar32Type
        -:   61:    = IsCompatibleChar32TypeHelper<q20::remove_cvref_t<Char>>;
        -:   62:
        -:   63:// hack to work around ushort/uchar etc being treated as both characters and
        -:   64:// integers, depending on which Qt API you look at:
        -:   65:template <typename T> struct treat_as_integral_arg : std::false_type {};
        -:   66:template <> struct treat_as_integral_arg<unsigned short> : std::true_type {};
        -:   67:template <> struct treat_as_integral_arg<  signed short> : std::true_type {};
        -:   68:template <> struct treat_as_integral_arg<unsigned  char> : std::true_type {};
        -:   69:template <> struct treat_as_integral_arg<  signed  char> : std::true_type {};
        -:   70:}
        -:   71:
        -:   72:// Qt 4.x compatibility
        -:   73:
        -:   74://
        -:   75:// QLatin1StringView inline implementations
        -:   76://
        -:   77:constexpr bool QtPrivate::isLatin1(QLatin1StringView) noexcept
        -:   78:{ return true; }
        -:   79:
        -:   80://
        -:   81:// QStringView members that require QLatin1StringView:
        -:   82://
        -:   83:int QStringView::compare(QLatin1StringView s, Qt::CaseSensitivity cs) const noexcept
        -:   84:{ return QtPrivate::compareStrings(*this, s, cs); }
        -:   85:bool QStringView::startsWith(QLatin1StringView s, Qt::CaseSensitivity cs) const noexcept
        -:   86:{ return QtPrivate::startsWith(*this, s, cs); }
        -:   87:bool QStringView::endsWith(QLatin1StringView s, Qt::CaseSensitivity cs) const noexcept
        -:   88:{ return QtPrivate::endsWith(*this, s, cs); }
        -:   89:qsizetype QStringView::indexOf(QLatin1StringView s, qsizetype from, Qt::CaseSensitivity cs) const noexcept
        -:   90:{ return QtPrivate::findString(*this, from, s, cs); }
        -:   91:bool QStringView::contains(QLatin1StringView s, Qt::CaseSensitivity cs) const noexcept
        -:   92:{ return indexOf(s, 0, cs) != qsizetype(-1); }
        -:   93:qsizetype QStringView::lastIndexOf(QLatin1StringView s, Qt::CaseSensitivity cs) const noexcept
        -:   94:{ return QtPrivate::lastIndexOf(*this, size(), s, cs); }
        -:   95:qsizetype QStringView::lastIndexOf(QLatin1StringView s, qsizetype from, Qt::CaseSensitivity cs) const noexcept
        -:   96:{ return QtPrivate::lastIndexOf(*this, from, s, cs); }
        -:   97:qsizetype QStringView::count(QLatin1StringView s, Qt::CaseSensitivity cs) const
        -:   98:{ return QtPrivate::count(*this, s, cs); }
        -:   99:
        -:  100://
        -:  101:// QAnyStringView members that require QLatin1StringView
        -:  102://
        -:  103:
        -:  104:constexpr QAnyStringView::QAnyStringView(QLatin1StringView str) noexcept
        -:  105:    : m_data{str.data()}, m_size{size_t(str.size() << SizeShift) | Tag::Latin1} {}
        -:  106:
        -:  107:constexpr QLatin1StringView QAnyStringView::asLatin1StringView() const
        -:  108:{
        -:  109:    Q_ASSERT(isLatin1());
        -:  110:    return {m_data_utf8, size()};
        -:  111:}
        -:  112:
        -:  113:
        -:  114:template <typename Visitor>
        -:  115:constexpr decltype(auto) QAnyStringView::visit(Visitor &&v) const
        -:  116:{
        -:  117:    if (isUtf16())
        -:  118:        return std::forward<Visitor>(v)(asStringView());
        -:  119:    else if (isLatin1())
        -:  120:        return std::forward<Visitor>(v)(asLatin1StringView());
        -:  121:    else
        -:  122:        return std::forward<Visitor>(v)(asUtf8StringView());
        -:  123:}
        -:  124:
        -:  125://
        -:  126:// QAnyStringView members that require QAnyStringView::visit()
        -:  127://
        -:  128:
        -:  129:constexpr QChar QAnyStringView::front() const
        -:  130:{
        -:  131:    return visit([] (auto that) { return QAnyStringView::toQChar(that.front()); });
        -:  132:}
        -:  133:constexpr QChar QAnyStringView::back() const
        -:  134:{
        -:  135:    return visit([] (auto that) { return QAnyStringView::toQChar(that.back()); });
        -:  136:}
        -:  137:
        -:  138:using QStringPrivate = QArrayDataPointer<char16_t>;
        -:  139:
        -:  140:class Q_CORE_EXPORT QString
        -:  141:{
        -:  142:    typedef QTypedArrayData<char16_t> Data;
        -:  143:
        -:  144:    friend class ::tst_QString;
        -:  145:
        -:  146:    template <typename Iterator>
        -:  147:    static constexpr bool is_contiguous_iterator_v =
        -:  148:        // Can't use contiguous_iterator_tag here, as STL impls can't agree on feature macro.
        -:  149:        // To avoid differences in C++20 and C++17 builds, treat only pointers as contiguous
        -:  150:        // for now:
        -:  151:        // std::contiguous_iterator<Iterator>;
        -:  152:        std::is_pointer_v<Iterator>;
        -:  153:
        -:  154:    template <typename Char>
        -:  155:    using is_compatible_char_helper = std::disjunction<
        -:  156:            QtPrivate::IsCompatibleCharType<Char>,
        -:  157:            QtPrivate::IsCompatibleChar32Type<Char>,
        -:  158:            QtPrivate::IsCompatibleChar8Type<Char>,
        -:  159:            std::is_same<Char, QLatin1Char> // special case
        -:  160:        >;
        -:  161:
        -:  162:    template <typename T>
        -:  163:    using is_string_like = std::conjunction<
        -:  164:            std::negation<QtPrivate::treat_as_integral_arg<std::remove_cv_t<T>>>, // used to be integral, so keep
        -:  165:            std::is_convertible<T, QAnyStringView>
        -:  166:        >;
        -:  167:
        -:  168:    template <typename T>
        -:  169:    using if_string_like = std::enable_if_t<is_string_like<T>::value, bool>;
        -:  170:
        -:  171:    template <typename T>
        -:  172:    using is_floating_point_like = std::disjunction<
        -:  173:        #if QFLOAT16_IS_NATIVE
        -:  174:            std::is_same<q20::remove_cvref_t<T>, QtPrivate::NativeFloat16Type>,
        -:  175:        #endif
        -:  176:            std::is_same<q20::remove_cvref_t<T>, qfloat16>,
        -:  177:            std::is_floating_point<T>
        -:  178:        >;
        -:  179:
        -:  180:    template <typename T>
        -:  181:    using if_floating_point = std::enable_if_t<is_floating_point_like<T>::value, bool>;
        -:  182:
        -:  183:    template <typename T>
        -:  184:    using if_integral_non_char = std::enable_if_t<std::conjunction_v<
        -:  185:            std::disjunction<
        -:  186:                std::is_integral<T>,
        -:  187:                std::conjunction<
        -:  188:                    std::is_enum<T>,                       // (unscoped) enums yes,
        -:  189:                    std::negation<q23::is_scoped_enum<T>>  // but not scoped ones
        -:  190:                >
        -:  191:            >,
        -:  192:            std::negation<is_floating_point_like<T>>, // has its own overload
        -:  193:            std::negation<is_string_like<T>>          // ditto
        -:  194:        >, bool>;
        -:  195:
        -:  196:    template <typename Iterator>
        -:  197:    static constexpr bool is_compatible_iterator_v = std::conjunction_v<
        -:  198:            std::is_convertible<
        -:  199:                typename std::iterator_traits<Iterator>::iterator_category,
        -:  200:                std::input_iterator_tag
        -:  201:            >,
        -:  202:            is_compatible_char_helper<typename std::iterator_traits<Iterator>::value_type>
        -:  203:        >;
        -:  204:
        -:  205:    template <typename Iterator>
        -:  206:    using if_compatible_iterator = std::enable_if_t<is_compatible_iterator_v<Iterator>, bool>;
        -:  207:
        -:  208:public:
        -:  209:    typedef QStringPrivate DataPointer;
        -:  210:
        -:  211:    constexpr QString() noexcept;
        -:  212:    explicit QString(const QChar *unicode, qsizetype size = -1);
        -:  213:    QString(QChar c);
        -:  214:    QString(qsizetype size, QChar c);
        -:  215:    inline QString(QLatin1StringView latin1);
        -:  216:    explicit QString(QStringView sv) : QString(sv.data(), sv.size()) {}
        -:  217:#if defined(__cpp_char8_t) || defined(Q_QDOC)
        -:  218:    Q_WEAK_OVERLOAD
        -:  219:    inline QString(const char8_t *str)
        -:  220:        : QString(fromUtf8(str))
        -:  221:    {}
        -:  222:#endif
        -:  223:    inline QString(const QString &) noexcept;
        -:  224:    inline ~QString();
        -:  225:    QString &operator=(QChar c);
        -:  226:    QString &operator=(const QString &) noexcept;
        -:  227:    QString &operator=(QLatin1StringView latin1);
    #####:  228:    inline QString(QString &&other) noexcept
        -:  229:        = default;
    #####:  230:    QT_MOVE_ASSIGNMENT_OPERATOR_IMPL_VIA_PURE_SWAP(QString)
    #####:  231:    void swap(QString &other) noexcept { d.swap(other.d); }
        -:  232:
        -:  233:    static constexpr qsizetype maxSize() noexcept
        -:  234:    {
        -:  235:        // -1 to deal with the NUL terminator
        -:  236:        return Data::maxSize() - 1;
        -:  237:    }
    #####:  238:    constexpr qsizetype size() const noexcept
        -:  239:    {
    #####:  240:        constexpr size_t MaxSize = maxSize();
    #####:  241:        Q_PRESUME(size_t(d.size) <= MaxSize);
    #####:  242:        return d.size;
        -:  243:    }
        -:  244:#if QT_DEPRECATED_SINCE(6, 4)
        -:  245:    QT_DEPRECATED_VERSION_X_6_4("Use size() or length() instead.")
        -:  246:    constexpr qsizetype count() const { return size(); }
        -:  247:#endif
        -:  248:    constexpr qsizetype length() const noexcept { return size(); }
        -:  249:    constexpr bool isEmpty() const noexcept { return size() == 0; }
        -:  250:    void resize(qsizetype size);
        -:  251:    void resize(qsizetype size, QChar fillChar);
        -:  252:    void resizeForOverwrite(qsizetype size);
        -:  253:
        -:  254:    QString &fill(QChar c, qsizetype size = -1);
        -:  255:    void truncate(qsizetype pos);
        -:  256:    void chop(qsizetype n);
        -:  257:
        -:  258:    QString &slice(qsizetype pos)
        -:  259:    { verify(pos, 0); return remove(0, pos); }
        -:  260:    QString &slice(qsizetype pos, qsizetype n)
        -:  261:    {
        -:  262:        verify(pos, n);
        -:  263:        if (isNull())
        -:  264:            return *this;
        -:  265:        resize(pos + n);
        -:  266:        return remove(0, pos);
        -:  267:    }
        -:  268:
        -:  269:    inline qsizetype capacity() const;
        -:  270:    inline void reserve(qsizetype size);
        -:  271:    inline void squeeze();
        -:  272:
        -:  273:    inline const QChar *unicode() const;
        -:  274:    inline QChar *data();
        -:  275:    inline const QChar *data() const;
        -:  276:    inline const QChar *constData() const;
        -:  277:
        -:  278:    inline void detach();
        -:  279:    inline bool isDetached() const;
        -:  280:    inline bool isSharedWith(const QString &other) const { return d.isSharedWith(other.d); }
        -:  281:    inline void clear();
        -:  282:
        -:  283:    inline const QChar at(qsizetype i) const;
        -:  284:    inline const QChar operator[](qsizetype i) const;
        -:  285:    [[nodiscard]] inline QChar &operator[](qsizetype i);
        -:  286:
        -:  287:    [[nodiscard]] inline QChar front() const { return at(0); }
        -:  288:    [[nodiscard]] inline QChar &front();
        -:  289:    [[nodiscard]] inline QChar back() const { return at(size() - 1); }
        -:  290:    [[nodiscard]] inline QChar &back();
        -:  291:
        -:  292:#if QT_CORE_REMOVED_SINCE(6, 9)
        -:  293:    [[nodiscard]] QString arg(qlonglong a, int fieldwidth=0, int base=10,
        -:  294:                QChar fillChar = u' ') const;
        -:  295:    [[nodiscard]] QString arg(qulonglong a, int fieldwidth=0, int base=10,
        -:  296:                QChar fillChar = u' ') const;
        -:  297:    [[nodiscard]] inline QString arg(long a, int fieldwidth=0, int base=10,
        -:  298:                QChar fillChar = u' ') const;
        -:  299:    [[nodiscard]] inline QString arg(ulong a, int fieldwidth=0, int base=10,
        -:  300:                QChar fillChar = u' ') const;
        -:  301:    [[nodiscard]] inline QString arg(int a, int fieldWidth = 0, int base = 10,
        -:  302:                QChar fillChar = u' ') const;
        -:  303:    [[nodiscard]] inline QString arg(uint a, int fieldWidth = 0, int base = 10,
        -:  304:                QChar fillChar = u' ') const;
        -:  305:    [[nodiscard]] inline QString arg(short a, int fieldWidth = 0, int base = 10,
        -:  306:                QChar fillChar = u' ') const;
        -:  307:    [[nodiscard]] inline QString arg(ushort a, int fieldWidth = 0, int base = 10,
        -:  308:                QChar fillChar = u' ') const;
        -:  309:    [[nodiscard]] QString arg(double a, int fieldWidth = 0, char format = 'g', int precision = -1,
        -:  310:                QChar fillChar = u' ') const;
        -:  311:    [[nodiscard]] QString arg(char a, int fieldWidth = 0,
        -:  312:                QChar fillChar = u' ') const;
        -:  313:    [[nodiscard]] QString arg(QChar a, int fieldWidth = 0,
        -:  314:                QChar fillChar = u' ') const;
        -:  315:    [[nodiscard]] QString arg(const QString &a, int fieldWidth = 0,
        -:  316:                QChar fillChar = u' ') const;
        -:  317:    [[nodiscard]] QString arg(QStringView a, int fieldWidth = 0,
        -:  318:                QChar fillChar = u' ') const;
        -:  319:    [[nodiscard]] QString arg(QLatin1StringView a, int fieldWidth = 0,
        -:  320:                QChar fillChar = u' ') const;
        -:  321:#endif
        -:  322:
        -:  323:    template <typename T, if_integral_non_char<T> = true>
        -:  324:    [[nodiscard]] QString arg(T a, int fieldWidth = 0, int base = 10,
        -:  325:                              QChar fillChar = u' ') const
        -:  326:    {
        -:  327:        using U = typename std::conditional<
        -:  328:                // underlying_type_t<non-enum> is UB in C++17/SFINAE in C++20, so wrap:
        -:  329:                std::is_enum_v<T>, std::underlying_type<T>,
        -:  330:                                   q20::type_identity<T>
        -:  331:            >::type::type;
        -:  332:        if constexpr (std::is_signed_v<U>)
        -:  333:            return arg_impl(qlonglong(a), fieldWidth, base, fillChar);
        -:  334:        else
        -:  335:            return arg_impl(qulonglong(a), fieldWidth, base, fillChar);
        -:  336:    }
        -:  337:
        -:  338:    template <typename T, if_floating_point<T> = true>
        -:  339:    [[nodiscard]] QString arg(T a, int fieldWidth = 0, char format = 'g', int precision = -1,
        -:  340:                              QChar fillChar = u' ') const
        -:  341:    { return arg_impl(double(a), fieldWidth, format, precision, fillChar); }
        -:  342:
        -:  343:    template <typename T, if_string_like<T> = true>
        -:  344:    [[nodiscard]] QString arg(const T &a, int fieldWidth = 0, QChar fillChar = u' ') const
        -:  345:    { return arg_impl(QAnyStringView(a), fieldWidth, fillChar); }
        -:  346:
        -:  347:private:
        -:  348:    QString arg_impl(qlonglong a, int fieldwidth, int base, QChar fillChar) const;
        -:  349:    QString arg_impl(qulonglong a, int fieldwidth, int base, QChar fillChar) const;
        -:  350:    QString arg_impl(double a, int fieldWidth, char format, int precision, QChar fillChar) const;
        -:  351:    QString arg_impl(QAnyStringView a, int fieldWidth, QChar fillChar) const;
        -:  352:
        -:  353:public:
        -:  354:    template <typename...Args>
        -:  355:    [[nodiscard]]
        -:  356:#ifdef Q_QDOC
        -:  357:    QString
        -:  358:#else
        -:  359:    typename std::enable_if<
        -:  360:        sizeof...(Args) >= 2 && std::conjunction_v<is_string_like<Args>...>,
        -:  361:        QString
        -:  362:    >::type
        -:  363:#endif
        -:  364:    arg(Args &&...args) const
        -:  365:    { return qToStringViewIgnoringNull(*this).arg(std::forward<Args>(args)...); }
        -:  366:
        -:  367:    static QString vasprintf(const char *format, va_list ap) Q_ATTRIBUTE_FORMAT_PRINTF(1, 0);
        -:  368:    static QString asprintf(const char *format, ...) Q_ATTRIBUTE_FORMAT_PRINTF(1, 2);
        -:  369:
        -:  370:    [[nodiscard]] QT_CORE_INLINE_SINCE(6, 8)
        -:  371:    qsizetype indexOf(QChar c, qsizetype from = 0, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  372:    [[nodiscard]] qsizetype indexOf(QLatin1StringView s, qsizetype from = 0, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  373:    [[nodiscard]] qsizetype indexOf(const QString &s, qsizetype from = 0, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  374:    [[nodiscard]] qsizetype indexOf(QStringView s, qsizetype from = 0, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept
        -:  375:    { return QtPrivate::findString(*this, from, s, cs); }
        -:  376:    [[nodiscard]] qsizetype lastIndexOf(QChar c, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept
        -:  377:    { return lastIndexOf(c, -1, cs); }
        -:  378:    [[nodiscard]] QT_CORE_INLINE_SINCE(6, 8)
        -:  379:    qsizetype lastIndexOf(QChar c, qsizetype from, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  380:    [[nodiscard]] qsizetype lastIndexOf(QLatin1StringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const
        -:  381:    { return lastIndexOf(s, size(), cs); }
        -:  382:    [[nodiscard]] qsizetype lastIndexOf(QLatin1StringView s, qsizetype from, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  383:    [[nodiscard]] qsizetype lastIndexOf(const QString &s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const
        -:  384:    { return lastIndexOf(s, size(), cs); }
        -:  385:    [[nodiscard]] qsizetype lastIndexOf(const QString &s, qsizetype from, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  386:
        -:  387:    [[nodiscard]] qsizetype lastIndexOf(QStringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept
        -:  388:    { return lastIndexOf(s, size(), cs); }
        -:  389:    [[nodiscard]] qsizetype lastIndexOf(QStringView s, qsizetype from, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept
        -:  390:    { return QtPrivate::lastIndexOf(*this, from, s, cs); }
        -:  391:
        -:  392:    [[nodiscard]] inline bool contains(QChar c, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  393:    [[nodiscard]] inline bool contains(const QString &s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  394:    [[nodiscard]] inline bool contains(QLatin1StringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  395:    [[nodiscard]] inline bool contains(QStringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept;
        -:  396:    [[nodiscard]] qsizetype count(QChar c, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  397:    [[nodiscard]] qsizetype count(const QString &s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  398:    [[nodiscard]] qsizetype count(QStringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  399:
        -:  400:#if QT_CONFIG(regularexpression)
        -:  401:    [[nodiscard]] qsizetype indexOf(const QRegularExpression &re, qsizetype from = 0,
        -:  402:                                    QRegularExpressionMatch *rmatch = nullptr) const;
        -:  403:#ifdef Q_QDOC
        -:  404:    [[nodiscard]] qsizetype lastIndexOf(const QRegularExpression &re, QRegularExpressionMatch *rmatch = nullptr) const;
        -:  405:#else
        -:  406:    // prevent an ambiguity when called like this: lastIndexOf(re, 0)
        -:  407:    template <typename T = QRegularExpressionMatch, std::enable_if_t<std::is_same_v<T, QRegularExpressionMatch>, bool> = false>
        -:  408:    [[nodiscard]] qsizetype lastIndexOf(const QRegularExpression &re, T *rmatch = nullptr) const
        -:  409:    { return lastIndexOf(re, size(), rmatch); }
        -:  410:#endif
        -:  411:    [[nodiscard]] qsizetype lastIndexOf(const QRegularExpression &re, qsizetype from,
        -:  412:                                        QRegularExpressionMatch *rmatch = nullptr) const;
        -:  413:    [[nodiscard]] bool contains(const QRegularExpression &re, QRegularExpressionMatch *rmatch = nullptr) const;
        -:  414:    [[nodiscard]] qsizetype count(const QRegularExpression &re) const;
        -:  415:#endif
        -:  416:
        -:  417:    enum SectionFlag {
        -:  418:        SectionDefault             = 0x00,
        -:  419:        SectionSkipEmpty           = 0x01,
        -:  420:        SectionIncludeLeadingSep   = 0x02,
        -:  421:        SectionIncludeTrailingSep  = 0x04,
        -:  422:        SectionCaseInsensitiveSeps = 0x08
        -:  423:    };
        -:  424:    Q_DECLARE_FLAGS(SectionFlags, SectionFlag)
        -:  425:
        -:  426:    [[nodiscard]] inline QString section(QChar sep, qsizetype start, qsizetype end = -1, SectionFlags flags = SectionDefault) const;
        -:  427:    [[nodiscard]] QString section(const QString &in_sep, qsizetype start, qsizetype end = -1, SectionFlags flags = SectionDefault) const;
        -:  428:#if QT_CONFIG(regularexpression)
        -:  429:    [[nodiscard]] QString section(const QRegularExpression &re, qsizetype start, qsizetype end = -1, SectionFlags flags = SectionDefault) const;
        -:  430:#endif
        -:  431:
        -:  432:#if QT_CORE_REMOVED_SINCE(6, 7)
        -:  433:    QString left(qsizetype n) const;
        -:  434:    QString right(qsizetype n) const;
        -:  435:    QString mid(qsizetype position, qsizetype n = -1) const;
        -:  436:
        -:  437:    QString first(qsizetype n) const;
        -:  438:    QString last(qsizetype n) const;
        -:  439:    QString sliced(qsizetype pos) const;
        -:  440:    QString sliced(qsizetype pos, qsizetype n) const;
        -:  441:    QString chopped(qsizetype n) const;
        -:  442:#else
        -:  443:    [[nodiscard]] QString left(qsizetype n) const &
        -:  444:    {
        -:  445:        if (size_t(n) >= size_t(size()))
        -:  446:            return *this;
        -:  447:        return first(n);
        -:  448:    }
        -:  449:    [[nodiscard]] QString left(qsizetype n) &&
        -:  450:    {
        -:  451:        if (size_t(n) >= size_t(size()))
        -:  452:            return std::move(*this);
        -:  453:        return std::move(*this).first(n);
        -:  454:    }
        -:  455:    [[nodiscard]] QString right(qsizetype n) const &
        -:  456:    {
        -:  457:        if (size_t(n) >= size_t(size()))
        -:  458:            return *this;
        -:  459:        return last(n);
        -:  460:    }
        -:  461:    [[nodiscard]] QString right(qsizetype n) &&
        -:  462:    {
        -:  463:        if (size_t(n) >= size_t(size()))
        -:  464:            return std::move(*this);
        -:  465:        return std::move(*this).last(n);
        -:  466:    }
        -:  467:    [[nodiscard]] QString mid(qsizetype position, qsizetype n = -1) const &;
        -:  468:    [[nodiscard]] QString mid(qsizetype position, qsizetype n = -1) &&;
        -:  469:
        -:  470:    [[nodiscard]] QString first(qsizetype n) const &
        -:  471:    { verify(0, n); return sliced(0, n); }
        -:  472:    [[nodiscard]] QString last(qsizetype n) const &
        -:  473:    { verify(0, n); return sliced(size() - n, n); }
        -:  474:    [[nodiscard]] QString sliced(qsizetype pos) const &
        -:  475:    { verify(pos, 0); return sliced(pos, size() - pos); }
        -:  476:    [[nodiscard]] QString sliced(qsizetype pos, qsizetype n) const &
        -:  477:    { verify(pos, n); return QString(begin() + pos, n); }
        -:  478:    [[nodiscard]] QString chopped(qsizetype n) const &
        -:  479:    { verify(0, n); return sliced(0, size() - n); }
        -:  480:
        -:  481:    [[nodiscard]] QString first(qsizetype n) &&
        -:  482:    {
        -:  483:        verify(0, n);
        -:  484:        resize(n);      // may detach and allocate memory
        -:  485:        return std::move(*this);
        -:  486:    }
        -:  487:    [[nodiscard]] QString last(qsizetype n) &&
        -:  488:    { verify(0, n); return sliced_helper(*this, size() - n, n); }
        -:  489:    [[nodiscard]] QString sliced(qsizetype pos) &&
        -:  490:    { verify(pos, 0); return sliced_helper(*this, pos, size() - pos); }
        -:  491:    [[nodiscard]] QString sliced(qsizetype pos, qsizetype n) &&
        -:  492:    { verify(pos, n); return sliced_helper(*this, pos, n); }
        -:  493:    [[nodiscard]] QString chopped(qsizetype n) &&
        -:  494:    { verify(0, n); return std::move(*this).first(size() - n); }
        -:  495:#endif
        -:  496:    bool startsWith(const QString &s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  497:    [[nodiscard]] bool startsWith(QStringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept
        -:  498:    { return QtPrivate::startsWith(*this, s, cs); }
        -:  499:    bool startsWith(QLatin1StringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  500:    bool startsWith(QChar c, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  501:
        -:  502:    bool endsWith(const QString &s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  503:    [[nodiscard]] bool endsWith(QStringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept
        -:  504:    { return QtPrivate::endsWith(*this, s, cs); }
        -:  505:    bool endsWith(QLatin1StringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  506:    bool endsWith(QChar c, Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  507:
        -:  508:    bool isUpper() const;
        -:  509:    bool isLower() const;
        -:  510:
        -:  511:    [[nodiscard]] QString leftJustified(qsizetype width, QChar fill = u' ', bool trunc = false) const;
        -:  512:    [[nodiscard]] QString rightJustified(qsizetype width, QChar fill = u' ', bool trunc = false) const;
        -:  513:
        -:  514:#if !defined(Q_QDOC)
        -:  515:    [[nodiscard]] QString toLower() const &
        -:  516:    { return toLower_helper(*this); }
        -:  517:    [[nodiscard]] QString toLower() &&
        -:  518:    { return toLower_helper(*this); }
        -:  519:    [[nodiscard]] QString toUpper() const &
        -:  520:    { return toUpper_helper(*this); }
        -:  521:    [[nodiscard]] QString toUpper() &&
        -:  522:    { return toUpper_helper(*this); }
        -:  523:    [[nodiscard]] QString toCaseFolded() const &
        -:  524:    { return toCaseFolded_helper(*this); }
        -:  525:    [[nodiscard]] QString toCaseFolded() &&
        -:  526:    { return toCaseFolded_helper(*this); }
        -:  527:    [[nodiscard]] QString trimmed() const &
        -:  528:    { return trimmed_helper(*this); }
        -:  529:    [[nodiscard]] QString trimmed() &&
        -:  530:    { return trimmed_helper(*this); }
        -:  531:    [[nodiscard]] QString simplified() const &
        -:  532:    { return simplified_helper(*this); }
        -:  533:    [[nodiscard]] QString simplified() &&
        -:  534:    { return simplified_helper(*this); }
        -:  535:#else
        -:  536:    [[nodiscard]] QString toLower() const;
        -:  537:    [[nodiscard]] QString toUpper() const;
        -:  538:    [[nodiscard]] QString toCaseFolded() const;
        -:  539:    [[nodiscard]] QString trimmed() const;
        -:  540:    [[nodiscard]] QString simplified() const;
        -:  541:#endif
        -:  542:    [[nodiscard]] QString toHtmlEscaped() const;
        -:  543:
        -:  544:    QString &insert(qsizetype i, QChar c);
        -:  545:    QString &insert(qsizetype i, const QChar *uc, qsizetype len);
        -:  546:    inline QString &insert(qsizetype i, const QString &s) { return insert(i, s.constData(), s.size()); }
        -:  547:    inline QString &insert(qsizetype i, QStringView v) { return insert(i, v.data(), v.size()); }
        -:  548:    QString &insert(qsizetype i, QLatin1StringView s);
        -:  549:    QString &insert(qsizetype i, QUtf8StringView s);
        -:  550:
        -:  551:    QString &append(QChar c);
        -:  552:    QString &append(const QChar *uc, qsizetype len);
        -:  553:    QString &append(const QString &s);
        -:  554:    inline QString &append(QStringView v) { return append(v.data(), v.size()); }
        -:  555:    QString &append(QLatin1StringView s);
        -:  556:    QString &append(QUtf8StringView s);
        -:  557:
        -:  558:    inline QString &prepend(QChar c) { return insert(0, c); }
        -:  559:    inline QString &prepend(const QChar *uc, qsizetype len) { return insert(0, uc, len); }
        -:  560:    inline QString &prepend(const QString &s) { return insert(0, s); }
        -:  561:    inline QString &prepend(QStringView v) { return prepend(v.data(), v.size()); }
        -:  562:    inline QString &prepend(QLatin1StringView s) { return insert(0, s); }
        -:  563:    QString &prepend(QUtf8StringView s) { return insert(0, s); }
        -:  564:
        -:  565:    QString &assign(QAnyStringView s);
        -:  566:    inline QString &assign(qsizetype n, QChar c)
        -:  567:    {
        -:  568:        Q_ASSERT(n >= 0);
        -:  569:        return fill(c, n);
        -:  570:    }
        -:  571:    template <typename InputIterator, if_compatible_iterator<InputIterator> = true>
        -:  572:    QString &assign(InputIterator first, InputIterator last)
        -:  573:    {
        -:  574:        using V = typename std::iterator_traits<InputIterator>::value_type;
        -:  575:        constexpr bool IsL1C = std::is_same_v<std::remove_cv_t<V>, QLatin1Char>;
        -:  576:        constexpr bool IsFwdIt = std::is_convertible_v<
        -:  577:                typename std::iterator_traits<InputIterator>::iterator_category,
        -:  578:                std::forward_iterator_tag
        -:  579:            >;
        -:  580:
        -:  581:        if constexpr (is_contiguous_iterator_v<InputIterator>) {
        -:  582:            const auto p = q20::to_address(first);
        -:  583:            const auto len = qsizetype(last - first);
        -:  584:            if constexpr (IsL1C)
        -:  585:                return assign(QLatin1StringView(reinterpret_cast<const char*>(p), len));
        -:  586:            else if constexpr (sizeof(V) == 4)
        -:  587:                return assign_helper(p, len);
        -:  588:            else
        -:  589:                return assign(QAnyStringView(p, len));
        -:  590:        } else if constexpr (sizeof(V) == 4) { // non-contiguous iterator, feed data piecemeal
        -:  591:            resize(0);
        -:  592:            if constexpr (IsFwdIt) {
        -:  593:                const qsizetype requiredCapacity = 2 * std::distance(first, last);
        -:  594:                reserve(requiredCapacity);
        -:  595:            }
        -:  596:            while (first != last) {
        -:  597:                append(QChar::fromUcs4(*first));
        -:  598:                ++first;
        -:  599:            }
        -:  600:            return *this;
        -:  601:        } else if constexpr (QtPrivate::IsCompatibleChar8Type<V>::value) {
        -:  602:            assign_helper_char8(first, last);
        -:  603:            if (d.constAllocatedCapacity())
        -:  604:                d.data()[d.size] = u'\0';
        -:  605:            return *this;
        -:  606:        } else {
        -:  607:            d.assign(first, last, [](QChar ch) -> char16_t { return ch.unicode(); });
        -:  608:            if (d.constAllocatedCapacity())
        -:  609:                d.data()[d.size] = u'\0';
        -:  610:            return *this;
        -:  611:        }
        -:  612:    }
        -:  613:
        -:  614:    inline QString &operator+=(QChar c) { return append(c); }
        -:  615:
        -:  616:    inline QString &operator+=(const QString &s) { return append(s); }
        -:  617:    inline QString &operator+=(QStringView v) { return append(v); }
        -:  618:    inline QString &operator+=(QLatin1StringView s) { return append(s); }
        -:  619:    QString &operator+=(QUtf8StringView s) { return append(s); }
        -:  620:
        -:  621:#if defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -:  622:    template <qsizetype N>
        -:  623:    QString &insert(qsizetype i, const char (&ch)[N]) { return insert(i, QUtf8StringView(ch)); }
        -:  624:    template <qsizetype N>
        -:  625:    QString &append(const char (&ch)[N]) { return append(QUtf8StringView(ch)); }
        -:  626:    template <qsizetype N>
        -:  627:    QString &prepend(const char (&ch)[N]) { return prepend(QUtf8StringView(ch)); }
        -:  628:    template <qsizetype N>
        -:  629:    QString &operator+=(const char (&ch)[N]) { return append(QUtf8StringView(ch)); }
        -:  630:#endif
        -:  631:
        -:  632:    QString &remove(qsizetype i, qsizetype len);
        -:  633:    QString &remove(QChar c, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  634:    QString &remove(QLatin1StringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  635:    QString &remove(const QString &s, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  636:
        -:  637:    QString &removeAt(qsizetype pos)
        -:  638:    { return size_t(pos) < size_t(size()) ? remove(pos, 1) : *this; }
        -:  639:    QString &removeFirst() { return !isEmpty() ? remove(0, 1) : *this; }
        -:  640:    QString &removeLast() { return !isEmpty() ? remove(size() - 1, 1) : *this; }
        -:  641:
        -:  642:    template <typename Predicate>
        -:  643:    QString &removeIf(Predicate pred)
        -:  644:    {
        -:  645:        removeIf_helper(pred);
        -:  646:        return *this;
        -:  647:    }
        -:  648:
        -:  649:    QString &replace(qsizetype i, qsizetype len, QChar after);
        -:  650:    QString &replace(qsizetype i, qsizetype len, const QChar *s, qsizetype slen);
        -:  651:    QString &replace(qsizetype i, qsizetype len, const QString &after);
        -:  652:    QString &replace(QChar before, QChar after, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  653:    QString &replace(const QChar *before, qsizetype blen, const QChar *after, qsizetype alen, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  654:    QString &replace(QLatin1StringView before, QLatin1StringView after, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  655:    QString &replace(QLatin1StringView before, const QString &after, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  656:    QString &replace(const QString &before, QLatin1StringView after, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  657:    QString &replace(const QString &before, const QString &after,
        -:  658:                     Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  659:    QString &replace(QChar c, const QString &after, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  660:    QString &replace(QChar c, QLatin1StringView after, Qt::CaseSensitivity cs = Qt::CaseSensitive);
        -:  661:#if QT_CONFIG(regularexpression)
        -:  662:    QString &replace(const QRegularExpression &re, const QString  &after);
        -:  663:    inline QString &remove(const QRegularExpression &re)
        -:  664:    { return replace(re, QString()); }
        -:  665:#endif
        -:  666:
        -:  667:public:
        -:  668:    [[nodiscard]]
        -:  669:    QStringList split(const QString &sep, Qt::SplitBehavior behavior = Qt::KeepEmptyParts,
        -:  670:                      Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  671:    [[nodiscard]]
        -:  672:    QStringList split(QChar sep, Qt::SplitBehavior behavior = Qt::KeepEmptyParts,
        -:  673:                      Qt::CaseSensitivity cs = Qt::CaseSensitive) const;
        -:  674:#ifndef QT_NO_REGULAREXPRESSION
        -:  675:    [[nodiscard]]
        -:  676:    QStringList split(const QRegularExpression &sep,
        -:  677:                      Qt::SplitBehavior behavior = Qt::KeepEmptyParts) const;
        -:  678:#endif
        -:  679:
        -:  680:    template <typename Needle, typename...Flags>
        -:  681:    [[nodiscard]] inline auto tokenize(Needle &&needle, Flags...flags) const &
        -:  682:        noexcept(noexcept(qTokenize(std::declval<const QString &>(), std::forward<Needle>(needle), flags...)))
        -:  683:            -> decltype(qTokenize(*this, std::forward<Needle>(needle), flags...))
        -:  684:    { return qTokenize(qToStringViewIgnoringNull(*this), std::forward<Needle>(needle), flags...); }
        -:  685:
        -:  686:    template <typename Needle, typename...Flags>
        -:  687:    [[nodiscard]] inline auto tokenize(Needle &&needle, Flags...flags) const &&
        -:  688:        noexcept(noexcept(qTokenize(std::declval<const QString>(), std::forward<Needle>(needle), flags...)))
        -:  689:            -> decltype(qTokenize(std::move(*this), std::forward<Needle>(needle), flags...))
        -:  690:    { return qTokenize(std::move(*this), std::forward<Needle>(needle), flags...); }
        -:  691:
        -:  692:    template <typename Needle, typename...Flags>
        -:  693:    [[nodiscard]] inline auto tokenize(Needle &&needle, Flags...flags) &&
        -:  694:        noexcept(noexcept(qTokenize(std::declval<QString>(), std::forward<Needle>(needle), flags...)))
        -:  695:            -> decltype(qTokenize(std::move(*this), std::forward<Needle>(needle), flags...))
        -:  696:    { return qTokenize(std::move(*this), std::forward<Needle>(needle), flags...); }
        -:  697:
        -:  698:
        -:  699:    enum NormalizationForm {
        -:  700:        NormalizationForm_D,
        -:  701:        NormalizationForm_C,
        -:  702:        NormalizationForm_KD,
        -:  703:        NormalizationForm_KC
        -:  704:    };
        -:  705:    [[nodiscard]] QString normalized(NormalizationForm mode, QChar::UnicodeVersion version = QChar::Unicode_Unassigned) const;
        -:  706:
        -:  707:    [[nodiscard]] QString repeated(qsizetype times) const;
        -:  708:
        -:  709:    const ushort *utf16() const; // ### Qt 7 char16_t
        -:  710:    [[nodiscard]] QString nullTerminated() const &;
        -:  711:    [[nodiscard]] QString nullTerminated() &&;
        -:  712:    QString &nullTerminate();
        -:  713:
        -:  714:#if !defined(Q_QDOC)
        -:  715:    [[nodiscard]] QByteArray toLatin1() const &
        -:  716:    { return toLatin1_helper(*this); }
        -:  717:    [[nodiscard]] QByteArray toLatin1() &&
        -:  718:    { return toLatin1_helper_inplace(*this); }
        -:  719:    [[nodiscard]] QByteArray toUtf8() const &
        -:  720:    { return toUtf8_helper(*this); }
        -:  721:    [[nodiscard]] QByteArray toUtf8() &&
        -:  722:    { return toUtf8_helper(*this); }
        -:  723:    [[nodiscard]] QByteArray toLocal8Bit() const &
        -:  724:    { return toLocal8Bit_helper(isNull() ? nullptr : constData(), size()); }
        -:  725:    [[nodiscard]] QByteArray toLocal8Bit() &&
        -:  726:    { return toLocal8Bit_helper(isNull() ? nullptr : constData(), size()); }
        -:  727:#else
        -:  728:    [[nodiscard]] QByteArray toLatin1() const;
        -:  729:    [[nodiscard]] QByteArray toUtf8() const;
        -:  730:    [[nodiscard]] QByteArray toLocal8Bit() const;
        -:  731:#endif
        -:  732:    [[nodiscard]] QList<uint> toUcs4() const; // ### Qt 7 char32_t
        -:  733:
        -:  734:    // note - this are all inline so we can benefit from strlen() compile time optimizations
        -:  735:    static QString fromLatin1(QByteArrayView ba);
        -:  736:    Q_WEAK_OVERLOAD
        -:  737:    static inline QString fromLatin1(const QByteArray &ba) { return fromLatin1(QByteArrayView(ba)); }
        -:  738:    static inline QString fromLatin1(const char *str, qsizetype size)
        -:  739:    {
        -:  740:        return fromLatin1(QByteArrayView(str, !str || size < 0 ? qstrlen(str) : size));
        -:  741:    }
        -:  742:    static QString fromUtf8(QByteArrayView utf8);
        -:  743:    Q_WEAK_OVERLOAD
        -:  744:    static inline QString fromUtf8(const QByteArray &ba) { return fromUtf8(QByteArrayView(ba)); }
        -:  745:    static inline QString fromUtf8(const char *utf8, qsizetype size)
        -:  746:    {
        -:  747:        return fromUtf8(QByteArrayView(utf8, !utf8 || size < 0 ? qstrlen(utf8) : size));
        -:  748:    }
        -:  749:#if defined(__cpp_char8_t) || defined(Q_QDOC)
        -:  750:    Q_WEAK_OVERLOAD
        -:  751:    static inline QString fromUtf8(const char8_t *str)
        -:  752:    { return fromUtf8(reinterpret_cast<const char *>(str)); }
        -:  753:    Q_WEAK_OVERLOAD
        -:  754:    static inline QString fromUtf8(const char8_t *str, qsizetype size)
        -:  755:    { return fromUtf8(reinterpret_cast<const char *>(str), size); }
        -:  756:#endif
        -:  757:    static QString fromLocal8Bit(QByteArrayView ba);
        -:  758:    Q_WEAK_OVERLOAD
        -:  759:    static inline QString fromLocal8Bit(const QByteArray &ba) { return fromLocal8Bit(QByteArrayView(ba)); }
        -:  760:    static inline QString fromLocal8Bit(const char *str, qsizetype size)
        -:  761:    {
        -:  762:        return fromLocal8Bit(QByteArrayView(str, !str || size < 0 ? qstrlen(str) : size));
        -:  763:    }
        -:  764:    static QString fromUtf16(const char16_t *, qsizetype size = -1);
        -:  765:    static QString fromUcs4(const char32_t *, qsizetype size = -1);
        -:  766:    static QString fromRawData(const char16_t *unicode, qsizetype size)
        -:  767:    {
        -:  768:        return QString(DataPointer::fromRawData(unicode, size));
        -:  769:    }
        -:  770:    QT_CORE_INLINE_SINCE(6, 10)
        -:  771:    static QString fromRawData(const QChar *, qsizetype size);
        -:  772:
        -:  773:#if QT_DEPRECATED_SINCE(6, 0)
        -:  774:    QT_DEPRECATED_VERSION_X_6_0("Use char16_t* overload.")
        -:  775:    static QString fromUtf16(const ushort *str, qsizetype size = -1)
        -:  776:    { return fromUtf16(reinterpret_cast<const char16_t *>(str), size); }
        -:  777:    QT_DEPRECATED_VERSION_X_6_0("Use char32_t* overload.")
        -:  778:    static QString fromUcs4(const uint *str, qsizetype size = -1)
        -:  779:    { return fromUcs4(reinterpret_cast<const char32_t *>(str), size); }
        -:  780:#endif
        -:  781:
        -:  782:    inline qsizetype toWCharArray(wchar_t *array) const;
        -:  783:    [[nodiscard]] static inline QString fromWCharArray(const wchar_t *string, qsizetype size = -1);
        -:  784:
        -:  785:    QString &setRawData(const QChar *unicode, qsizetype size);
        -:  786:    QString &setUnicode(const QChar *unicode, qsizetype size);
        -:  787:    Q_WEAK_OVERLOAD
        -:  788:    QString &setUnicode(const char16_t *utf16, qsizetype size)
        -:  789:    { return setUnicode(reinterpret_cast<const QChar *>(utf16), size); }
        -:  790:    QString &setUtf16(const char16_t *utf16, qsizetype size)
        -:  791:    { return setUnicode(reinterpret_cast<const QChar *>(utf16), size); }
        -:  792:
        -:  793:#if !QT_CORE_REMOVED_SINCE(6, 9)
        -:  794:    Q_WEAK_OVERLOAD
        -:  795:#endif
        -:  796:    QString &setUtf16(const ushort *autf16, qsizetype asize)
        -:  797:    { return setUnicode(reinterpret_cast<const QChar *>(autf16), asize); }
        -:  798:
        -:  799:    int compare(const QString &s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept;
        -:  800:    int compare(QLatin1StringView other, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept;
        -:  801:    inline int compare(QStringView s, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept;
        -:  802:    int compare(QChar ch, Qt::CaseSensitivity cs = Qt::CaseSensitive) const noexcept
        -:  803:    { return compare(QStringView{&ch, 1}, cs); }
        -:  804:
        -:  805:    static inline int compare(const QString &s1, const QString &s2,
        -:  806:                              Qt::CaseSensitivity cs = Qt::CaseSensitive) noexcept
        -:  807:    { return s1.compare(s2, cs); }
        -:  808:
        -:  809:    static inline int compare(const QString &s1, QLatin1StringView s2,
        -:  810:                              Qt::CaseSensitivity cs = Qt::CaseSensitive) noexcept
        -:  811:    { return s1.compare(s2, cs); }
        -:  812:    static inline int compare(QLatin1StringView s1, const QString &s2,
        -:  813:                              Qt::CaseSensitivity cs = Qt::CaseSensitive) noexcept
        -:  814:    { return -s2.compare(s1, cs); }
        -:  815:    static int compare(const QString &s1, QStringView s2, Qt::CaseSensitivity cs = Qt::CaseSensitive) noexcept
        -:  816:    { return s1.compare(s2, cs); }
        -:  817:    static int compare(QStringView s1, const QString &s2, Qt::CaseSensitivity cs = Qt::CaseSensitive) noexcept
        -:  818:    { return -s2.compare(s1, cs); }
        -:  819:
        -:  820:    int localeAwareCompare(const QString& s) const;
        -:  821:    inline int localeAwareCompare(QStringView s) const;
        -:  822:    static int localeAwareCompare(const QString& s1, const QString& s2)
        -:  823:    { return s1.localeAwareCompare(s2); }
        -:  824:
        -:  825:    static inline int localeAwareCompare(QStringView s1, QStringView s2);
        -:  826:
        -:  827:    short toShort(bool *ok=nullptr, int base=10) const
        -:  828:    { return toIntegral_helper<short>(*this, ok, base); }
        -:  829:    ushort toUShort(bool *ok=nullptr, int base=10) const
        -:  830:    { return toIntegral_helper<ushort>(*this, ok, base); }
        -:  831:    int toInt(bool *ok=nullptr, int base=10) const
        -:  832:    { return toIntegral_helper<int>(*this, ok, base); }
        -:  833:    uint toUInt(bool *ok=nullptr, int base=10) const
        -:  834:    { return toIntegral_helper<uint>(*this, ok, base); }
        -:  835:    long toLong(bool *ok=nullptr, int base=10) const
        -:  836:    { return toIntegral_helper<long>(*this, ok, base); }
        -:  837:    ulong toULong(bool *ok=nullptr, int base=10) const
        -:  838:    { return toIntegral_helper<ulong>(*this, ok, base); }
        -:  839:    QT_CORE_INLINE_SINCE(6, 5)
        -:  840:    qlonglong toLongLong(bool *ok=nullptr, int base=10) const;
        -:  841:    QT_CORE_INLINE_SINCE(6, 5)
        -:  842:    qulonglong toULongLong(bool *ok=nullptr, int base=10) const;
        -:  843:    float toFloat(bool *ok=nullptr) const;
        -:  844:    double toDouble(bool *ok=nullptr) const;
        -:  845:
        -:  846:    inline QString &setNum(short, int base=10);
        -:  847:    inline QString &setNum(ushort, int base=10);
        -:  848:    inline QString &setNum(int, int base=10);
        -:  849:    inline QString &setNum(uint, int base=10);
        -:  850:    inline QString &setNum(long, int base=10);
        -:  851:    inline QString &setNum(ulong, int base=10);
        -:  852:    QString &setNum(qlonglong, int base=10);
        -:  853:    QString &setNum(qulonglong, int base=10);
        -:  854:    inline QString &setNum(float, char format='g', int precision=6);
        -:  855:    QString &setNum(double, char format='g', int precision=6);
        -:  856:
        -:  857:    static QString number(int, int base=10);
        -:  858:    static QString number(uint, int base=10);
        -:  859:    static QString number(long, int base=10);
        -:  860:    static QString number(ulong, int base=10);
        -:  861:    static QString number(qlonglong, int base=10);
        -:  862:    static QString number(qulonglong, int base=10);
        -:  863:    static QString number(double, char format='g', int precision=6);
        -:  864:
    #####:  865:    friend bool comparesEqual(const QString &s1, const QString &s2) noexcept
    #####:  866:    { return comparesEqual(QStringView(s1), QStringView(s2)); }
    #####:  867:    friend Qt::strong_ordering compareThreeWay(const QString &s1, const QString &s2) noexcept
    #####:  868:    { return compareThreeWay(QStringView(s1), QStringView(s2)); }
    #####:  869:    Q_DECLARE_STRONGLY_ORDERED(QString)
------------------
_ZltRK7QStringS1_:
    #####:  869:    Q_DECLARE_STRONGLY_ORDERED(QString)
------------------
_ZeqRK7QStringS1_:
    #####:  869:    Q_DECLARE_STRONGLY_ORDERED(QString)
------------------
        -:  870:
        -:  871:    Q_WEAK_OVERLOAD
        -:  872:    friend bool comparesEqual(const QString &s1, QUtf8StringView s2) noexcept
        -:  873:    { return QtPrivate::equalStrings(s1, s2); }
        -:  874:    Q_WEAK_OVERLOAD
        -:  875:    friend Qt::strong_ordering compareThreeWay(const QString &s1, QUtf8StringView s2) noexcept
        -:  876:    {
        -:  877:        const int res = QtPrivate::compareStrings(s1, s2, Qt::CaseSensitive);
        -:  878:        return Qt::compareThreeWay(res, 0);
        -:  879:    }
        -:  880:    Q_DECLARE_STRONGLY_ORDERED(QString, QUtf8StringView, Q_WEAK_OVERLOAD)
        -:  881:
        -:  882:#ifdef __cpp_char8_t
        -:  883:    friend bool comparesEqual(const QString &s1, const char8_t *s2) noexcept
        -:  884:    { return comparesEqual(s1, QUtf8StringView(s2)); }
        -:  885:    friend Qt::strong_ordering compareThreeWay(const QString &s1, const char8_t *s2) noexcept
        -:  886:    { return compareThreeWay(s1, QUtf8StringView(s2)); }
        -:  887:    Q_DECLARE_STRONGLY_ORDERED(QString, const char8_t *)
        -:  888:#endif // __cpp_char8_t
        -:  889:
        -:  890:    friend bool comparesEqual(const QString &s1, QLatin1StringView s2) noexcept
        -:  891:    { return (s1.size() == s2.size()) && QtPrivate::equalStrings(s1, s2); }
        -:  892:    friend Qt::strong_ordering
        -:  893:    compareThreeWay(const QString &s1, QLatin1StringView s2) noexcept
        -:  894:    {
        -:  895:        const int res = QtPrivate::compareStrings(s1, s2, Qt::CaseSensitive);
        -:  896:        return Qt::compareThreeWay(res, 0);
        -:  897:    }
        -:  898:    Q_DECLARE_STRONGLY_ORDERED(QString, QLatin1StringView)
        -:  899:
        -:  900:    // Check isEmpty() instead of isNull() for backwards compatibility.
        -:  901:    friend bool comparesEqual(const QString &s1, std::nullptr_t) noexcept
        -:  902:    { return s1.isEmpty(); }
        -:  903:    friend Qt::strong_ordering compareThreeWay(const QString &s1, std::nullptr_t) noexcept
        -:  904:    { return s1.isEmpty() ? Qt::strong_ordering::equivalent : Qt::strong_ordering::greater; }
        -:  905:    Q_DECLARE_STRONGLY_ORDERED(QString, std::nullptr_t)
        -:  906:
        -:  907:    friend bool comparesEqual(const QString &s1, const char16_t *s2) noexcept
        -:  908:    { return comparesEqual(s1, QStringView(s2)); }
        -:  909:    friend Qt::strong_ordering compareThreeWay(const QString &s1, const char16_t *s2) noexcept
        -:  910:    { return compareThreeWay(s1, QStringView(s2)); }
        -:  911:    Q_DECLARE_STRONGLY_ORDERED(QString, const char16_t *)
        -:  912:
        -:  913:    // QChar <> QString
        -:  914:    friend bool comparesEqual(const QString &lhs, QChar rhs) noexcept
        -:  915:    { return lhs.size() == 1 && rhs == lhs.front(); }
        -:  916:    friend Qt::strong_ordering compareThreeWay(const QString &lhs, QChar rhs) noexcept
        -:  917:    {
        -:  918:        const int res = compare_helper(lhs.data(), lhs.size(), &rhs, 1);
        -:  919:        return Qt::compareThreeWay(res, 0);
        -:  920:    }
        -:  921:    Q_DECLARE_STRONGLY_ORDERED(QString, QChar)
        -:  922:
        -:  923:    // ASCII compatibility
        -:  924:#if defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -:  925:    template <qsizetype N>
        -:  926:    inline QString(const char (&ch)[N])
        -:  927:        : QString(fromUtf8(ch))
        -:  928:    {}
        -:  929:    template <qsizetype N>
        -:  930:    QString(char (&)[N]) = delete;
        -:  931:    template <qsizetype N>
        -:  932:    inline QString &operator=(const char (&ch)[N])
        -:  933:    { return (*this = fromUtf8(ch, N - 1)); }
        -:  934:    template <qsizetype N>
        -:  935:    QString &operator=(char (&)[N]) = delete;
        -:  936:#endif
        -:  937:#if !defined(QT_NO_CAST_FROM_ASCII) && !defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -:  938:    QT_ASCII_CAST_WARN inline QString(const char *ch)
        -:  939:        : QString(fromUtf8(ch))
        -:  940:    {}
        -:  941:    QT_ASCII_CAST_WARN inline QString(const QByteArray &a)
        -:  942:        : QString(fromUtf8(a))
        -:  943:    {}
        -:  944:    QT_ASCII_CAST_WARN inline QString &operator=(const char *ch)
        -:  945:    {
        -:  946:        if (!ch) {
        -:  947:            clear();
        -:  948:            return *this;
        -:  949:        }
        -:  950:        return assign(ch);
        -:  951:    }
        -:  952:    QT_ASCII_CAST_WARN inline QString &operator=(const QByteArray &a)
        -:  953:    {
        -:  954:        if (a.isNull()) {
        -:  955:            clear();
        -:  956:            return *this;
        -:  957:        }
        -:  958:        return assign(a);
        -:  959:    }
        -:  960:    // these are needed, so it compiles with STL support enabled
        -:  961:    QT_ASCII_CAST_WARN inline QString &prepend(const char *s)
        -:  962:    { return prepend(QUtf8StringView(s)); }
        -:  963:    QT_ASCII_CAST_WARN inline QString &prepend(const QByteArray &s)
        -:  964:    { return prepend(QUtf8StringView(s)); }
        -:  965:    QT_ASCII_CAST_WARN inline QString &append(const char *s)
        -:  966:    { return append(QUtf8StringView(s)); }
        -:  967:    QT_ASCII_CAST_WARN inline QString &append(const QByteArray &s)
        -:  968:    { return append(QUtf8StringView(s)); }
        -:  969:    QT_ASCII_CAST_WARN inline QString &insert(qsizetype i, const char *s)
        -:  970:    { return insert(i, QUtf8StringView(s)); }
        -:  971:    QT_ASCII_CAST_WARN inline QString &insert(qsizetype i, const QByteArray &s)
        -:  972:    { return insert(i, QUtf8StringView(s)); }
        -:  973:    QT_ASCII_CAST_WARN inline QString &operator+=(const char *s)
        -:  974:    { return append(QUtf8StringView(s)); }
        -:  975:    QT_ASCII_CAST_WARN inline QString &operator+=(const QByteArray &s)
        -:  976:    { return append(QUtf8StringView(s)); }
        -:  977:
        -:  978:#if QT_CORE_REMOVED_SINCE(6, 8)
        -:  979:    QT_ASCII_CAST_WARN inline bool operator==(const char *s) const;
        -:  980:    QT_ASCII_CAST_WARN inline bool operator!=(const char *s) const;
        -:  981:    QT_ASCII_CAST_WARN inline bool operator<(const char *s) const;
        -:  982:    QT_ASCII_CAST_WARN inline bool operator<=(const char *s) const;
        -:  983:    QT_ASCII_CAST_WARN inline bool operator>(const char *s) const;
        -:  984:    QT_ASCII_CAST_WARN inline bool operator>=(const char *s) const;
        -:  985:
        -:  986:    QT_ASCII_CAST_WARN inline bool operator==(const QByteArray &s) const;
        -:  987:    QT_ASCII_CAST_WARN inline bool operator!=(const QByteArray &s) const;
        -:  988:    QT_ASCII_CAST_WARN inline bool operator<(const QByteArray &s) const;
        -:  989:    QT_ASCII_CAST_WARN inline bool operator>(const QByteArray &s) const;
        -:  990:    QT_ASCII_CAST_WARN inline bool operator<=(const QByteArray &s) const;
        -:  991:    QT_ASCII_CAST_WARN inline bool operator>=(const QByteArray &s) const;
        -:  992:#else
        -:  993:    friend bool comparesEqual(const QString &lhs, QByteArrayView rhs) noexcept
        -:  994:    {
        -:  995:        return QString::compare_helper(lhs.constData(), lhs.size(),
        -:  996:                                       rhs.constData(), rhs.size()) == 0;
        -:  997:    }
        -:  998:    friend Qt::strong_ordering
        -:  999:    compareThreeWay(const QString &lhs, QByteArrayView rhs) noexcept
        -: 1000:    {
        -: 1001:        const int res = QString::compare_helper(lhs.constData(), lhs.size(),
        -: 1002:                                                rhs.constData(), rhs.size());
        -: 1003:        return Qt::compareThreeWay(res, 0);
        -: 1004:    }
        -: 1005:    Q_DECLARE_STRONGLY_ORDERED(QString, QByteArrayView, QT_ASCII_CAST_WARN)
        -: 1006:
        -: 1007:    friend bool comparesEqual(const QString &lhs, const QByteArray &rhs) noexcept
        -: 1008:    { return comparesEqual(lhs, QByteArrayView(rhs)); }
        -: 1009:    friend Qt::strong_ordering
        -: 1010:    compareThreeWay(const QString &lhs, const QByteArray &rhs) noexcept
        -: 1011:    {
        -: 1012:        return compareThreeWay(lhs, QByteArrayView(rhs));
        -: 1013:    }
        -: 1014:    Q_DECLARE_STRONGLY_ORDERED(QString, QByteArray, QT_ASCII_CAST_WARN)
        -: 1015:
        -: 1016:    friend bool comparesEqual(const QString &lhs, const char *rhs) noexcept
        -: 1017:    { return comparesEqual(lhs, QByteArrayView(rhs)); }
        -: 1018:    friend Qt::strong_ordering
        -: 1019:    compareThreeWay(const QString &lhs, const char *rhs) noexcept
        -: 1020:    {
        -: 1021:        return compareThreeWay(lhs, QByteArrayView(rhs));
        -: 1022:    }
        -: 1023:    Q_DECLARE_STRONGLY_ORDERED(QString, const char *, QT_ASCII_CAST_WARN)
        -: 1024:#endif // QT_CORE_REMOVED_SINCE(6, 8)
        -: 1025:
        -: 1026:#endif // !defined(QT_NO_CAST_FROM_ASCII) && !defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -: 1027:
        -: 1028:    typedef QChar *iterator;
        -: 1029:    typedef const QChar *const_iterator;
        -: 1030:    typedef iterator Iterator;
        -: 1031:    typedef const_iterator ConstIterator;
        -: 1032:    typedef std::reverse_iterator<iterator> reverse_iterator;
        -: 1033:    typedef std::reverse_iterator<const_iterator> const_reverse_iterator;
        -: 1034:    inline iterator begin();
        -: 1035:    inline const_iterator begin() const;
        -: 1036:    inline const_iterator cbegin() const;
        -: 1037:    inline const_iterator constBegin() const;
        -: 1038:    inline iterator end();
        -: 1039:    inline const_iterator end() const;
        -: 1040:    inline const_iterator cend() const;
        -: 1041:    inline const_iterator constEnd() const;
        -: 1042:    reverse_iterator rbegin() { return reverse_iterator(end()); }
        -: 1043:    reverse_iterator rend() { return reverse_iterator(begin()); }
        -: 1044:    const_reverse_iterator rbegin() const { return const_reverse_iterator(end()); }
        -: 1045:    const_reverse_iterator rend() const { return const_reverse_iterator(begin()); }
        -: 1046:    const_reverse_iterator crbegin() const { return const_reverse_iterator(end()); }
        -: 1047:    const_reverse_iterator crend() const { return const_reverse_iterator(begin()); }
        -: 1048:
        -: 1049:    // STL compatibility
        -: 1050:    typedef qsizetype size_type;
        -: 1051:    typedef qptrdiff difference_type;
        -: 1052:    typedef const QChar & const_reference;
        -: 1053:    typedef QChar & reference;
        -: 1054:    typedef QChar *pointer;
        -: 1055:    typedef const QChar *const_pointer;
        -: 1056:    typedef QChar value_type;
        -: 1057:    inline void push_back(QChar c) { append(c); }
        -: 1058:    inline void push_back(const QString &s) { append(s); }
        -: 1059:    inline void push_front(QChar c) { prepend(c); }
        -: 1060:    inline void push_front(const QString &s) { prepend(s); }
        -: 1061:    void shrink_to_fit() { squeeze(); }
        -: 1062:    iterator erase(const_iterator first, const_iterator last);
        -: 1063:    inline iterator erase(const_iterator it) { return erase(it, it + 1); }
        -: 1064:    constexpr qsizetype max_size() const noexcept
        -: 1065:    {
        -: 1066:        return maxSize();
        -: 1067:    }
        -: 1068:
        -: 1069:    static inline QString fromStdString(const std::string &s);
        -: 1070:    std::string toStdString() const;
        -: 1071:    static inline QString fromStdWString(const std::wstring &s);
        -: 1072:    inline std::wstring toStdWString() const;
        -: 1073:
        -: 1074:    static inline QString fromStdU16String(const std::u16string &s);
        -: 1075:    inline std::u16string toStdU16String() const;
        -: 1076:    static inline QString fromStdU32String(const std::u32string &s);
        -: 1077:    inline std::u32string toStdU32String() const;
        -: 1078:
        -: 1079:    Q_IMPLICIT inline operator std::u16string_view() const noexcept;
        -: 1080:
        -: 1081:#if defined(Q_OS_DARWIN) || defined(Q_QDOC)
        -: 1082:    static QString fromCFString(CFStringRef string);
        -: 1083:    CFStringRef toCFString() const Q_DECL_CF_RETURNS_RETAINED;
        -: 1084:    static QString fromNSString(const NSString *string);
        -: 1085:    NSString *toNSString() const Q_DECL_NS_RETURNS_AUTORELEASED;
        -: 1086:#endif
        -: 1087:
        -: 1088:#if defined(Q_OS_WASM) || defined(Q_QDOC)
        -: 1089:    static QString fromEcmaString(emscripten::val jsString);
        -: 1090:    emscripten::val toEcmaString() const;
        -: 1091:#endif
        -: 1092:
        -: 1093:    constexpr bool isNull() const { return d.isNull(); }
        -: 1094:
        -: 1095:    bool isRightToLeft() const;
        -: 1096:    [[nodiscard]] bool isValidUtf16() const noexcept
        -: 1097:    { return QStringView(*this).isValidUtf16(); }
        -: 1098:
        -: 1099:    QString(qsizetype size, Qt::Initialization);
        -: 1100:    explicit QString(DataPointer &&dd) : d(std::move(dd)) {}
        -: 1101:
        -: 1102:private:
        -: 1103:#if defined(QT_NO_CAST_FROM_ASCII)
        -: 1104:#define QSTRING_DECL_DELETED_ASCII_OP Q_DECL_EQ_DELETE_X("This function is not available under QT_NO_CAST_FROM_ASCII")
        -: 1105:    QString &operator+=(const char *s) QSTRING_DECL_DELETED_ASCII_OP;
        -: 1106:    QString &operator+=(const QByteArray &s) QSTRING_DECL_DELETED_ASCII_OP;
        -: 1107:    QString(const char *ch) QSTRING_DECL_DELETED_ASCII_OP;
        -: 1108:    QString(const QByteArray &a) QSTRING_DECL_DELETED_ASCII_OP;
        -: 1109:    QString &operator=(const char  *ch) QSTRING_DECL_DELETED_ASCII_OP;
        -: 1110:    QString &operator=(const QByteArray &a) QSTRING_DECL_DELETED_ASCII_OP;
        -: 1111:#undef QSTRING_DECL_DELETED_ASCII_OP
        -: 1112:#endif
        -: 1113:
        -: 1114:    DataPointer d;
        -: 1115:    static const char16_t _empty;
        -: 1116:
        -: 1117:    void reallocData(qsizetype alloc, QArrayData::AllocationOption option);
        -: 1118:    void reallocGrowData(qsizetype n);
        -: 1119:    // ### remove once QAnyStringView supports UTF-32:
        -: 1120:    QString &assign_helper(const char32_t *data, qsizetype len);
        -: 1121:    // Defined in qstringconverter.h
        -: 1122:    template <typename InputIterator>
        -: 1123:    void assign_helper_char8(InputIterator first, InputIterator last);
        -: 1124:    static int compare_helper(const QChar *data1, qsizetype length1,
        -: 1125:                              const QChar *data2, qsizetype length2,
        -: 1126:                              Qt::CaseSensitivity cs = Qt::CaseSensitive) noexcept;
        -: 1127:    static int compare_helper(const QChar *data1, qsizetype length1,
        -: 1128:                              const char *data2, qsizetype length2,
        -: 1129:                              Qt::CaseSensitivity cs = Qt::CaseSensitive) noexcept;
        -: 1130:    static int localeAwareCompare_helper(const QChar *data1, qsizetype length1,
        -: 1131:                                         const QChar *data2, qsizetype length2);
        -: 1132:    static QString sliced_helper(QString &str, qsizetype pos, qsizetype n);
        -: 1133:    static QString toLower_helper(const QString &str);
        -: 1134:    static QString toLower_helper(QString &str);
        -: 1135:    static QString toUpper_helper(const QString &str);
        -: 1136:    static QString toUpper_helper(QString &str);
        -: 1137:    static QString toCaseFolded_helper(const QString &str);
        -: 1138:    static QString toCaseFolded_helper(QString &str);
        -: 1139:    static QString trimmed_helper(const QString &str);
        -: 1140:    static QString trimmed_helper(QString &str);
        -: 1141:    static QString simplified_helper(const QString &str);
        -: 1142:    static QString simplified_helper(QString &str);
        -: 1143:    static QByteArray toLatin1_helper(const QString &);
        -: 1144:    static QByteArray toLatin1_helper_inplace(QString &);
        -: 1145:    static QByteArray toUtf8_helper(const QString &);
        -: 1146:    static QByteArray toLocal8Bit_helper(const QChar *data, qsizetype size);
        -: 1147:#if QT_CORE_REMOVED_SINCE(6, 6)
        -: 1148:    static qsizetype toUcs4_helper(const ushort *uc, qsizetype length, uint *out);
        -: 1149:#endif
        -: 1150:    static qsizetype toUcs4_helper(const char16_t *uc, qsizetype length, char32_t *out);
        -: 1151:    static qlonglong toIntegral_helper(QStringView string, bool *ok, int base);
        -: 1152:    static qulonglong toIntegral_helper(QStringView string, bool *ok, uint base);
        -: 1153:    template <typename Predicate>
        -: 1154:    qsizetype removeIf_helper(Predicate pred)
        -: 1155:    {
        -: 1156:        const qsizetype result = d->eraseIf(pred);
        -: 1157:        if (result > 0)
        -: 1158:            d.data()[d.size] = u'\0';
        -: 1159:        return result;
        -: 1160:    }
        -: 1161:
        -: 1162:    friend class QStringView;
        -: 1163:    friend class QByteArray;
        -: 1164:    friend struct QAbstractConcatenable;
        -: 1165:    template <typename T> friend qsizetype erase(QString &s, const T &t);
        -: 1166:    template <typename Predicate> friend qsizetype erase_if(QString &s, Predicate pred);
        -: 1167:
        -: 1168:    template <typename T> static
        -: 1169:    T toIntegral_helper(QStringView string, bool *ok, int base)
        -: 1170:    {
        -: 1171:        using Int64 = typename std::conditional<std::is_unsigned<T>::value, qulonglong, qlonglong>::type;
        -: 1172:        using Int32 = typename std::conditional<std::is_unsigned<T>::value, uint, int>::type;
        -: 1173:
        -: 1174:        // we select the right overload by casting base to int or uint
        -: 1175:        Int64 val = toIntegral_helper(string, ok, Int32(base));
        -: 1176:        if (T(val) != val) {
        -: 1177:            if (ok)
        -: 1178:                *ok = false;
        -: 1179:            val = 0;
        -: 1180:        }
        -: 1181:        return T(val);
        -: 1182:    }
        -: 1183:
        -: 1184:    Q_ALWAYS_INLINE constexpr void verify([[maybe_unused]] qsizetype pos = 0,
        -: 1185:                                          [[maybe_unused]] qsizetype n = 1) const
        -: 1186:    {
        -: 1187:        Q_ASSERT(pos >= 0);
        -: 1188:        Q_ASSERT(pos <= d.size);
        -: 1189:        Q_ASSERT(n >= 0);
        -: 1190:        Q_ASSERT(n <= d.size - pos);
        -: 1191:    }
        -: 1192:
        -: 1193:public:
        -: 1194:    inline DataPointer &data_ptr() { return d; }
        -: 1195:    inline const DataPointer &data_ptr() const { return d; }
        -: 1196:};
        -: 1197:
        -: 1198://
        -: 1199:// QLatin1StringView inline members that require QUtf8StringView:
        -: 1200://
        -: 1201:
        -: 1202:int QLatin1StringView::compare(QUtf8StringView other, Qt::CaseSensitivity cs) const noexcept
        -: 1203:{ return QtPrivate::compareStrings(*this, other, cs); }
        -: 1204:
        -: 1205://
        -: 1206:// QLatin1StringView inline members that require QString:
        -: 1207://
        -: 1208:
        -: 1209:QString QLatin1StringView::toString() const { return *this; }
        -: 1210:
        -: 1211://
        -: 1212:// QStringView inline members that require QUtf8StringView:
        -: 1213://
        -: 1214:
        -: 1215:int QStringView::compare(QUtf8StringView other, Qt::CaseSensitivity cs) const noexcept
        -: 1216:{ return QtPrivate::compareStrings(*this, other, cs); }
        -: 1217:
        -: 1218://
        -: 1219:// QStringView inline members that require QString:
        -: 1220://
        -: 1221:
        -: 1222:QString QStringView::toString() const
        -: 1223:{ return QString(*this); }
        -: 1224:
        -: 1225:qint64 QStringView::toLongLong(bool *ok, int base) const
        -: 1226:{ return QString::toIntegral_helper<qint64>(*this, ok, base); }
        -: 1227:quint64 QStringView::toULongLong(bool *ok, int base) const
        -: 1228:{ return QString::toIntegral_helper<quint64>(*this, ok, base); }
        -: 1229:long QStringView::toLong(bool *ok, int base) const
        -: 1230:{ return QString::toIntegral_helper<long>(*this, ok, base); }
        -: 1231:ulong QStringView::toULong(bool *ok, int base) const
        -: 1232:{ return QString::toIntegral_helper<ulong>(*this, ok, base); }
        -: 1233:int QStringView::toInt(bool *ok, int base) const
        -: 1234:{ return QString::toIntegral_helper<int>(*this, ok, base); }
        -: 1235:uint QStringView::toUInt(bool *ok, int base) const
        -: 1236:{ return QString::toIntegral_helper<uint>(*this, ok, base); }
        -: 1237:short QStringView::toShort(bool *ok, int base) const
        -: 1238:{ return QString::toIntegral_helper<short>(*this, ok, base); }
        -: 1239:ushort QStringView::toUShort(bool *ok, int base) const
        -: 1240:{ return QString::toIntegral_helper<ushort>(*this, ok, base); }
        -: 1241:
        -: 1242://
        -: 1243:// QUtf8StringView inline members that require QStringView:
        -: 1244://
        -: 1245:
        -: 1246:template <bool UseChar8T>
        -: 1247:int QBasicUtf8StringView<UseChar8T>::compare(QChar other, Qt::CaseSensitivity cs) const noexcept
        -: 1248:{
        -: 1249:    return QtPrivate::compareStrings(*this, QStringView(&other, 1), cs);
        -: 1250:}
        -: 1251:
        -: 1252:template <bool UseChar8T>
        -: 1253:int QBasicUtf8StringView<UseChar8T>::compare(QStringView other, Qt::CaseSensitivity cs) const noexcept
        -: 1254:{
        -: 1255:    return QtPrivate::compareStrings(*this, other, cs);
        -: 1256:}
        -: 1257:
        -: 1258:template <bool UseChar8T>
        -: 1259:[[nodiscard]] bool QBasicUtf8StringView<UseChar8T>::equal(QChar other) const noexcept
        -: 1260:{
        -: 1261:    return QtPrivate::equalStrings(*this, QStringView(&other, 1));
        -: 1262:}
        -: 1263:
        -: 1264:template <bool UseChar8T>
        -: 1265:[[nodiscard]] bool QBasicUtf8StringView<UseChar8T>::equal(QStringView other) const noexcept
        -: 1266:{
        -: 1267:    return QtPrivate::equalStrings(*this, other);
        -: 1268:}
        -: 1269:
        -: 1270://
        -: 1271:// QUtf8StringView inline members that require QString, QL1SV or QBA:
        -: 1272://
        -: 1273:
        -: 1274:template <bool UseChar8T>
        -: 1275:QString QBasicUtf8StringView<UseChar8T>::toString() const
        -: 1276:{
        -: 1277:    return QString::fromUtf8(data(), size());
        -: 1278:}
        -: 1279:
        -: 1280:template<bool UseChar8T>
        -: 1281:[[nodiscard]] int QBasicUtf8StringView<UseChar8T>::compare(QLatin1StringView other,
        -: 1282:                                                           Qt::CaseSensitivity cs) const noexcept
        -: 1283:{
        -: 1284:    return QtPrivate::compareStrings(*this, other, cs);
        -: 1285:}
        -: 1286:
        -: 1287:template<bool UseChar8T>
        -: 1288:[[nodiscard]] int QBasicUtf8StringView<UseChar8T>::compare(const QByteArray &other,
        -: 1289:                                                           Qt::CaseSensitivity cs) const noexcept
        -: 1290:{
        -: 1291:    return QtPrivate::compareStrings(*this,
        -: 1292:                                     QBasicUtf8StringView<UseChar8T>(other.data(), other.size()),
        -: 1293:                                     cs);
        -: 1294:}
        -: 1295:
        -: 1296:template <bool UseChar8T>
        -: 1297:[[nodiscard]] bool QBasicUtf8StringView<UseChar8T>::equal(QLatin1StringView other) const noexcept
        -: 1298:{
        -: 1299:    return QtPrivate::equalStrings(*this, other);
        -: 1300:}
        -: 1301:
        -: 1302:template <bool UseChar8T>
        -: 1303:[[nodiscard]] bool QBasicUtf8StringView<UseChar8T>::equal(const QByteArray &other) const noexcept
        -: 1304:{
        -: 1305:    return size() == other.size()
        -: 1306:            && QtPrivate::equalStrings(*this, QBasicUtf8StringView<UseChar8T>(other.data(),
        -: 1307:                                                                              other.size()));
        -: 1308:}
        -: 1309:
        -: 1310://
        -: 1311:// QAnyStringView inline members that require QString:
        -: 1312://
        -: 1313:
        -: 1314:QAnyStringView::QAnyStringView(const QByteArray &str) noexcept
        -: 1315:    : QAnyStringView{str.begin(), str.size()} {}
        -: 1316:QAnyStringView::QAnyStringView(const QString &str) noexcept
        -: 1317:    : QAnyStringView{str.begin(), str.size()} {}
        -: 1318:
        -: 1319:QString QAnyStringView::toString() const
        -: 1320:{ return QtPrivate::convertToQString(*this); }
        -: 1321:
        -: 1322://
        -: 1323:// QString inline members
        -: 1324://
        -: 1325:QString::QString(QLatin1StringView latin1)
        -: 1326:    : QString{QString::fromLatin1(latin1.data(), latin1.size())} {}
        -: 1327:const QChar QString::at(qsizetype i) const
        -: 1328:{ verify(i, 1); return QChar(d.data()[i]); }
        -: 1329:const QChar QString::operator[](qsizetype i) const
        -: 1330:{ verify(i, 1); return QChar(d.data()[i]); }
        -: 1331:const QChar *QString::unicode() const
        -: 1332:{ return data(); }
    #####: 1333:const QChar *QString::data() const
        -: 1334:{
        -: 1335:#if QT5_NULL_STRINGS == 1
    #####: 1336:    return reinterpret_cast<const QChar *>(d.data() ? d.data() : &_empty);
        -: 1337:#else
        -: 1338:    return reinterpret_cast<const QChar *>(d.data());
        -: 1339:#endif
        -: 1340:}
        -: 1341:QChar *QString::data()
        -: 1342:{
        -: 1343:    detach();
        -: 1344:    Q_ASSERT(d.data());
        -: 1345:    return reinterpret_cast<QChar *>(d.data());
        -: 1346:}
    #####: 1347:const QChar *QString::constData() const
    #####: 1348:{ return data(); }
        -: 1349:void QString::detach()
        -: 1350:{ if (d.needsDetach()) reallocData(d.size, QArrayData::KeepSize); }
        -: 1351:bool QString::isDetached() const
        -: 1352:{ return !d.isShared(); }
        -: 1353:void QString::clear()
        -: 1354:{ if (!isNull()) *this = QString(); }
    #####: 1355:QString::QString(const QString &other) noexcept : d(other.d)
    #####: 1356:{ }
        -: 1357:qsizetype QString::capacity() const { return qsizetype(d.constAllocatedCapacity()); }
        -: 1358:QString &QString::setNum(short n, int base)
        -: 1359:{ return setNum(qlonglong(n), base); }
        -: 1360:QString &QString::setNum(ushort n, int base)
        -: 1361:{ return setNum(qulonglong(n), base); }
        -: 1362:QString &QString::setNum(int n, int base)
        -: 1363:{ return setNum(qlonglong(n), base); }
        -: 1364:QString &QString::setNum(uint n, int base)
        -: 1365:{ return setNum(qulonglong(n), base); }
        -: 1366:QString &QString::setNum(long n, int base)
        -: 1367:{ return setNum(qlonglong(n), base); }
        -: 1368:QString &QString::setNum(ulong n, int base)
        -: 1369:{ return setNum(qulonglong(n), base); }
        -: 1370:QString &QString::setNum(float n, char f, int prec)
        -: 1371:{ return setNum(double(n),f,prec); }
        -: 1372:#if QT_CORE_REMOVED_SINCE(6, 9)
        -: 1373:QString QString::arg(int a, int fieldWidth, int base, QChar fillChar) const
        -: 1374:{ return arg(qlonglong(a), fieldWidth, base, fillChar); }
        -: 1375:QString QString::arg(uint a, int fieldWidth, int base, QChar fillChar) const
        -: 1376:{ return arg(qulonglong(a), fieldWidth, base, fillChar); }
        -: 1377:QString QString::arg(long a, int fieldWidth, int base, QChar fillChar) const
        -: 1378:{ return arg(qlonglong(a), fieldWidth, base, fillChar); }
        -: 1379:QString QString::arg(ulong a, int fieldWidth, int base, QChar fillChar) const
        -: 1380:{ return arg(qulonglong(a), fieldWidth, base, fillChar); }
        -: 1381:QString QString::arg(short a, int fieldWidth, int base, QChar fillChar) const
        -: 1382:{ return arg(qlonglong(a), fieldWidth, base, fillChar); }
        -: 1383:QString QString::arg(ushort a, int fieldWidth, int base, QChar fillChar) const
        -: 1384:{ return arg(qulonglong(a), fieldWidth, base, fillChar); }
        -: 1385:#endif // QT_CORE_REMOVED_SINCE
        -: 1386:
        -: 1387:QString QString::section(QChar asep, qsizetype astart, qsizetype aend, SectionFlags aflags) const
        -: 1388:{ return section(QString(asep), astart, aend, aflags); }
        -: 1389:
        -: 1390:QT_WARNING_PUSH
        -: 1391:QT_WARNING_DISABLE_MSVC(4127)   // "conditional expression is constant"
        -: 1392:QT_WARNING_DISABLE_INTEL(111)   // "statement is unreachable"
        -: 1393:
        -: 1394:qsizetype QString::toWCharArray(wchar_t *array) const
        -: 1395:{
        -: 1396:    return qToStringViewIgnoringNull(*this).toWCharArray(array);
        -: 1397:}
        -: 1398:
        -: 1399:qsizetype QStringView::toWCharArray(wchar_t *array) const
        -: 1400:{
        -: 1401:    if (sizeof(wchar_t) == sizeof(QChar)) {
        -: 1402:        if (auto src = data())
        -: 1403:            memcpy(array, src, sizeof(QChar) * size());
        -: 1404:        return size();
        -: 1405:    } else {
        -: 1406:        return QString::toUcs4_helper(utf16(), size(), reinterpret_cast<char32_t *>(array));
        -: 1407:    }
        -: 1408:}
        -: 1409:
        -: 1410:QT_WARNING_POP
        -: 1411:
        -: 1412:QString QString::fromWCharArray(const wchar_t *string, qsizetype size)
        -: 1413:{
        -: 1414:    if constexpr (sizeof(wchar_t) == sizeof(QChar)) {
        -: 1415:        return QString(reinterpret_cast<const QChar *>(string), size);
        -: 1416:    } else {
        -: 1417:#ifdef QT_BOOTSTRAPPED
        -: 1418:        Q_UNREACHABLE_RETURN(QString());
        -: 1419:#else
        -: 1420:        return fromUcs4(reinterpret_cast<const char32_t *>(string), size);
        -: 1421:#endif
        -: 1422:    }
        -: 1423:}
        -: 1424:
    #####: 1425:constexpr QString::QString() noexcept {}
    #####: 1426:QString::~QString() {}
        -: 1427:
        -: 1428:void QString::reserve(qsizetype asize)
        -: 1429:{
        -: 1430:    if (d.needsDetach() || asize >= capacity() - d.freeSpaceAtBegin())
        -: 1431:        reallocData(qMax(asize, size()), QArrayData::KeepSize);
        -: 1432:    if (d.constAllocatedCapacity())
        -: 1433:        d.setFlag(Data::CapacityReserved);
        -: 1434:}
        -: 1435:
        -: 1436:void QString::squeeze()
        -: 1437:{
        -: 1438:    if (!d.isMutable())
        -: 1439:        return;
        -: 1440:    if (d.needsDetach() || size() < capacity())
        -: 1441:        reallocData(d.size, QArrayData::KeepSize);
        -: 1442:    if (d.constAllocatedCapacity())
        -: 1443:        d.clearFlag(Data::CapacityReserved);
        -: 1444:}
        -: 1445:
        -: 1446:QChar &QString::operator[](qsizetype i)
        -: 1447:{ verify(i, 1); return data()[i]; }
        -: 1448:QChar &QString::front() { return operator[](0); }
        -: 1449:QChar &QString::back() { return operator[](size() - 1); }
        -: 1450:QString::iterator QString::begin()
        -: 1451:{ detach(); return reinterpret_cast<QChar*>(d.data()); }
    #####: 1452:QString::const_iterator QString::begin() const
    #####: 1453:{ return reinterpret_cast<const QChar*>(d.data()); }
        -: 1454:QString::const_iterator QString::cbegin() const
        -: 1455:{ return reinterpret_cast<const QChar*>(d.data()); }
        -: 1456:QString::const_iterator QString::constBegin() const
        -: 1457:{ return reinterpret_cast<const QChar*>(d.data()); }
        -: 1458:QString::iterator QString::end()
        -: 1459:{ detach(); return reinterpret_cast<QChar*>(d.data() + d.size); }
        -: 1460:QString::const_iterator QString::end() const
        -: 1461:{ return reinterpret_cast<const QChar*>(d.data() + d.size); }
        -: 1462:QString::const_iterator QString::cend() const
        -: 1463:{ return reinterpret_cast<const QChar*>(d.data() + d.size); }
        -: 1464:QString::const_iterator QString::constEnd() const
        -: 1465:{ return reinterpret_cast<const QChar*>(d.data() + d.size); }
        -: 1466:bool QString::contains(const QString &s, Qt::CaseSensitivity cs) const
        -: 1467:{ return indexOf(s, 0, cs) != -1; }
        -: 1468:bool QString::contains(QLatin1StringView s, Qt::CaseSensitivity cs) const
        -: 1469:{ return indexOf(s, 0, cs) != -1; }
        -: 1470:bool QString::contains(QChar c, Qt::CaseSensitivity cs) const
        -: 1471:{ return indexOf(c, 0, cs) != -1; }
        -: 1472:bool QString::contains(QStringView s, Qt::CaseSensitivity cs) const noexcept
        -: 1473:{ return indexOf(s, 0, cs) != -1; }
        -: 1474:
        -: 1475:#if !defined(QT_NO_CAST_FROM_ASCII) && !defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -: 1476:#if QT_CORE_REMOVED_SINCE(6, 8)
        -: 1477:bool QString::operator==(const char *s) const
        -: 1478:{ return QString::compare_helper(constData(), size(), s, -1) == 0; }
        -: 1479:bool QString::operator!=(const char *s) const
        -: 1480:{ return QString::compare_helper(constData(), size(), s, -1) != 0; }
        -: 1481:bool QString::operator<(const char *s) const
        -: 1482:{ return QString::compare_helper(constData(), size(), s, -1) < 0; }
        -: 1483:bool QString::operator>(const char *s) const
        -: 1484:{ return QString::compare_helper(constData(), size(), s, -1) > 0; }
        -: 1485:bool QString::operator<=(const char *s) const
        -: 1486:{ return QString::compare_helper(constData(), size(), s, -1) <= 0; }
        -: 1487:bool QString::operator>=(const char *s) const
        -: 1488:{ return QString::compare_helper(constData(), size(), s, -1) >= 0; }
        -: 1489:
        -: 1490:QT_ASCII_CAST_WARN bool QString::operator==(const QByteArray &s) const
        -: 1491:{ return QString::compare_helper(constData(), size(), s.constData(), s.size()) == 0; }
        -: 1492:QT_ASCII_CAST_WARN bool QString::operator!=(const QByteArray &s) const
        -: 1493:{ return QString::compare_helper(constData(), size(), s.constData(), s.size()) != 0; }
        -: 1494:QT_ASCII_CAST_WARN bool QString::operator<(const QByteArray &s) const
        -: 1495:{ return QString::compare_helper(constData(), size(), s.constData(), s.size()) < 0; }
        -: 1496:QT_ASCII_CAST_WARN bool QString::operator>(const QByteArray &s) const
        -: 1497:{ return QString::compare_helper(constData(), size(), s.constData(), s.size()) > 0; }
        -: 1498:QT_ASCII_CAST_WARN bool QString::operator<=(const QByteArray &s) const
        -: 1499:{ return QString::compare_helper(constData(), size(), s.constData(), s.size()) <= 0; }
        -: 1500:QT_ASCII_CAST_WARN bool QString::operator>=(const QByteArray &s) const
        -: 1501:{ return QString::compare_helper(constData(), size(), s.constData(), s.size()) >= 0; }
        -: 1502:
        -: 1503:bool QByteArray::operator==(const QString &s) const
        -: 1504:{ return QString::compare_helper(s.constData(), s.size(), constData(), size()) == 0; }
        -: 1505:bool QByteArray::operator!=(const QString &s) const
        -: 1506:{ return QString::compare_helper(s.constData(), s.size(), constData(), size()) != 0; }
        -: 1507:bool QByteArray::operator<(const QString &s) const
        -: 1508:{ return QString::compare_helper(s.constData(), s.size(), constData(), size()) > 0; }
        -: 1509:bool QByteArray::operator>(const QString &s) const
        -: 1510:{ return QString::compare_helper(s.constData(), s.size(), constData(), size()) < 0; }
        -: 1511:bool QByteArray::operator<=(const QString &s) const
        -: 1512:{ return QString::compare_helper(s.constData(), s.size(), constData(), size()) >= 0; }
        -: 1513:bool QByteArray::operator>=(const QString &s) const
        -: 1514:{ return QString::compare_helper(s.constData(), s.size(), constData(), size()) <= 0; }
        -: 1515:#endif // QT_CORE_REMOVED_SINCE(6, 8)
        -: 1516:#endif // !defined(QT_NO_CAST_FROM_ASCII) && !defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -: 1517:
        -: 1518:#if !defined(QT_USE_FAST_OPERATOR_PLUS) && !defined(QT_USE_QSTRINGBUILDER)
        -: 1519:// QString + QString
        -: 1520:inline QString operator+(const QString &s1, const QString &s2)
        -: 1521:{ QString t(s1); t += s2; return t; }
        -: 1522:inline QString operator+(QString &&lhs, const QString &rhs)
        -: 1523:{ return std::move(lhs += rhs); }
        -: 1524:inline QString operator+(const QString &s1, QChar s2)
        -: 1525:{ QString t(s1); t += s2; return t; }
        -: 1526:inline QString operator+(QString &&lhs, QChar rhs)
        -: 1527:{ return std::move(lhs += rhs); }
        -: 1528:inline QString operator+(QChar s1, const QString &s2)
        -: 1529:{ QString t(s1); t += s2; return t; }
        -: 1530:inline QString operator+(const QString &lhs, QStringView rhs)
        -: 1531:{
        -: 1532:    QString ret{lhs.size() + rhs.size(), Qt::Uninitialized};
        -: 1533:    return ret.assign(lhs).append(rhs);
        -: 1534:}
        -: 1535:inline QString operator+(QStringView lhs, const QString &rhs)
        -: 1536:{
        -: 1537:    QString ret{lhs.size() + rhs.size(), Qt::Uninitialized};
        -: 1538:    return ret.assign(lhs).append(rhs);
        -: 1539:}
        -: 1540:
        -: 1541:#  if !defined(QT_NO_CAST_FROM_ASCII) && !defined(QT_RESTRICTED_CAST_FROM_ASCII)
        -: 1542:QT_ASCII_CAST_WARN inline QString operator+(const QString &s1, const char *s2)
        -: 1543:{ QString t(s1); t += QUtf8StringView(s2); return t; }
        -: 1544:QT_ASCII_CAST_WARN inline QString operator+(QString &&lhs, const char *rhs)
        -: 1545:{ QT_IGNORE_DEPRECATIONS(return std::move(lhs += rhs);) }
        -: 1546:QT_ASCII_CAST_WARN inline QString operator+(const char *s1, const QString &s2)
        -: 1547:{ QString t = QString::fromUtf8(s1); t += s2; return t; }
        -: 1548:QT_ASCII_CAST_WARN inline QString operator+(const QByteArray &ba, const QString &s)
        -: 1549:{ QString t = QString::fromUtf8(ba); t += s; return t; }
        -: 1550:QT_ASCII_CAST_WARN inline QString operator+(const QString &s, const QByteArray &ba)
        -: 1551:{ QString t(s); t += QUtf8StringView(ba); return t; }
        -: 1552:QT_ASCII_CAST_WARN inline QString operator+(QString &&lhs, const QByteArray &rhs)
        -: 1553:{ QT_IGNORE_DEPRECATIONS(return std::move(lhs += rhs);) }
        -: 1554:#  endif // QT_NO_CAST_FROM_ASCII
        -: 1555:#endif // QT_USE_QSTRINGBUILDER
        -: 1556:
        -: 1557:QString QString::fromStdString(const std::string &s)
        -: 1558:{ return fromUtf8(s.data(), qsizetype(s.size())); }
        -: 1559:
        -: 1560:std::wstring QString::toStdWString() const
        -: 1561:{
        -: 1562:    std::wstring str;
        -: 1563:    str.resize(size());
        -: 1564:    str.resize(toWCharArray(str.data()));
        -: 1565:    return str;
        -: 1566:}
        -: 1567:
        -: 1568:QString QString::fromStdWString(const std::wstring &s)
        -: 1569:{ return fromWCharArray(s.data(), qsizetype(s.size())); }
        -: 1570:
        -: 1571:QString QString::fromStdU16String(const std::u16string &s)
        -: 1572:{ return fromUtf16(s.data(), qsizetype(s.size())); }
        -: 1573:
        -: 1574:std::u16string QString::toStdU16String() const
        -: 1575:{ return std::u16string(reinterpret_cast<const char16_t*>(data()), size()); }
        -: 1576:
        -: 1577:QString QString::fromStdU32String(const std::u32string &s)
        -: 1578:{ return fromUcs4(s.data(), qsizetype(s.size())); }
        -: 1579:
        -: 1580:std::u32string QString::toStdU32String() const
        -: 1581:{
        -: 1582:    std::u32string u32str(size(), char32_t(0));
        -: 1583:    const qsizetype len = toUcs4_helper(reinterpret_cast<const char16_t *>(data()),
        -: 1584:                                        size(), u32str.data());
        -: 1585:    u32str.resize(len);
        -: 1586:    return u32str;
        -: 1587:}
        -: 1588:
        -: 1589:QString::operator std::u16string_view() const noexcept
        -: 1590:{
        -: 1591:    return std::u16string_view(d.data(), size_t(d.size));
        -: 1592:}
        -: 1593:
        -: 1594:#if !defined(QT_NO_DATASTREAM) || defined(QT_BOOTSTRAPPED)
        -: 1595:Q_CORE_EXPORT QDataStream &operator<<(QDataStream &, const QString &);
        -: 1596:Q_CORE_EXPORT QDataStream &operator>>(QDataStream &, QString &);
        -: 1597:#endif
        -: 1598:
        -: 1599:Q_DECLARE_SHARED(QString)
        -: 1600:Q_DECLARE_OPERATORS_FOR_FLAGS(QString::SectionFlags)
        -: 1601:
        -: 1602:int QString::compare(QStringView s, Qt::CaseSensitivity cs) const noexcept
        -: 1603:{ return -s.compare(*this, cs); }
        -: 1604:
        -: 1605:int QString::localeAwareCompare(QStringView s) const
        -: 1606:{ return localeAwareCompare_helper(constData(), size(), s.constData(), s.size()); }
        -: 1607:int QString::localeAwareCompare(QStringView s1, QStringView s2)
        -: 1608:{ return localeAwareCompare_helper(s1.constData(), s1.size(), s2.constData(), s2.size()); }
        -: 1609:int QStringView::localeAwareCompare(QStringView other) const
        -: 1610:{ return QString::localeAwareCompare(*this, other); }
        -: 1611:
        -: 1612:#if QT_CORE_INLINE_IMPL_SINCE(6, 5)
        -: 1613:qint64 QString::toLongLong(bool *ok, int base) const
        -: 1614:{
        -: 1615:    return toIntegral_helper<qlonglong>(*this, ok, base);
        -: 1616:}
        -: 1617:
        -: 1618:quint64 QString::toULongLong(bool *ok, int base) const
        -: 1619:{
        -: 1620:    return toIntegral_helper<qulonglong>(*this, ok, base);
        -: 1621:}
        -: 1622:#endif
        -: 1623:#if QT_CORE_INLINE_IMPL_SINCE(6, 8)
        -: 1624:qsizetype QString::indexOf(QChar ch, qsizetype from, Qt::CaseSensitivity cs) const
        -: 1625:{
        -: 1626:    return qToStringViewIgnoringNull(*this).indexOf(ch, from, cs);
        -: 1627:}
        -: 1628:qsizetype QString::lastIndexOf(QChar ch, qsizetype from, Qt::CaseSensitivity cs) const
        -: 1629:{
        -: 1630:    return qToStringViewIgnoringNull(*this).lastIndexOf(ch, from, cs);
        -: 1631:}
        -: 1632:#endif
        -: 1633:#if QT_CORE_INLINE_IMPL_SINCE(6, 10)
        -: 1634:QString QString::fromRawData(const QChar *unicode, qsizetype size)
        -: 1635:{
        -: 1636:    return fromRawData(reinterpret_cast<const char16_t *>(unicode), size);
        -: 1637:}
        -: 1638:#endif
        -: 1639:
        -: 1640:namespace QtPrivate {
        -: 1641:// used by qPrintable() and qUtf8Printable() macros
        -: 1642:inline const QString &asString(const QString &s)    { return s; }
        -: 1643:inline QString &&asString(QString &&s)              { return std::move(s); }
        -: 1644:}
        -: 1645:
        -: 1646:#ifndef qPrintable
        -: 1647:#  define qPrintable(string) QtPrivate::asString(string).toLocal8Bit().constData()
        -: 1648:#endif
        -: 1649:
        -: 1650:#ifndef qUtf8Printable
        -: 1651:#  define qUtf8Printable(string) QtPrivate::asString(string).toUtf8().constData()
        -: 1652:#endif
        -: 1653:
        -: 1654:/*
        -: 1655:    Wrap QString::utf16() with enough casts to allow passing it
        -: 1656:    to QString::asprintf("%ls") without warnings.
        -: 1657:*/
        -: 1658:#ifndef qUtf16Printable
        -: 1659:#  define qUtf16Printable(string) \
        -: 1660:    static_cast<const wchar_t*>(static_cast<const void*>(QtPrivate::asString(string).utf16()))
        -: 1661:#endif
        -: 1662:
        -: 1663://
        -: 1664:// QStringView::arg() implementation
        -: 1665://
        -: 1666:
        -: 1667:namespace QtPrivate {
        -: 1668:
        -: 1669:struct ArgBase {
        -: 1670:    enum Tag : uchar { L1, Any, U16 } tag;
        -: 1671:};
        -: 1672:
        -: 1673:struct QStringViewArg : ArgBase {
        -: 1674:    QStringView string;
        -: 1675:    QStringViewArg() = default;
        -: 1676:    constexpr explicit QStringViewArg(QStringView v) noexcept : ArgBase{U16}, string{v} {}
        -: 1677:};
        -: 1678:
        -: 1679:struct QLatin1StringArg : ArgBase {
        -: 1680:    QLatin1StringView string;
        -: 1681:    QLatin1StringArg() = default;
        -: 1682:    constexpr explicit QLatin1StringArg(QLatin1StringView v) noexcept : ArgBase{L1}, string{v} {}
        -: 1683:};
        -: 1684:
        -: 1685:struct QAnyStringArg : ArgBase {
        -: 1686:    QAnyStringView string;
        -: 1687:    QAnyStringArg() = default;
        -: 1688:    constexpr explicit QAnyStringArg(QAnyStringView v) noexcept : ArgBase{Any}, string{v} {}
        -: 1689:};
        -: 1690:
        -: 1691:#if QT_CORE_REMOVED_SINCE(6, 9)
        -: 1692:[[nodiscard]] Q_CORE_EXPORT QString argToQString(QStringView pattern, size_t n, const ArgBase **args);
        -: 1693:[[nodiscard]] Q_CORE_EXPORT QString argToQString(QLatin1StringView pattern, size_t n, const ArgBase **args);
        -: 1694:#endif
        -: 1695:[[nodiscard]] Q_CORE_EXPORT QString argToQString(QAnyStringView pattern, size_t n, const ArgBase **args);
        -: 1696:
        -: 1697:template <typename...Args>
        -: 1698:[[nodiscard]] Q_ALWAYS_INLINE QString argToQStringDispatch(QAnyStringView pattern, const Args &...args)
        -: 1699:{
        -: 1700:    const ArgBase *argBases[] = {&args..., /* avoid zero-sized array */ nullptr};
        -: 1701:    return QtPrivate::argToQString(pattern, sizeof...(Args), argBases);
        -: 1702:}
        -: 1703:
        -: 1704:constexpr inline QAnyStringArg qStringLikeToArg(QAnyStringView s) noexcept { return QAnyStringArg{s}; }
        -: 1705:
        -: 1706:} // namespace QtPrivate
        -: 1707:
        -: 1708:template <typename...Args>
        -: 1709:Q_ALWAYS_INLINE
        -: 1710:QString QStringView::arg(Args &&...args) const
        -: 1711:{
        -: 1712:    return QtPrivate::argToQStringDispatch(*this, QtPrivate::qStringLikeToArg(args)...);
        -: 1713:}
        -: 1714:
        -: 1715:template <typename...Args>
        -: 1716:Q_ALWAYS_INLINE
        -: 1717:QString QLatin1StringView::arg(Args &&...args) const
        -: 1718:{
        -: 1719:    return QtPrivate::argToQStringDispatch(*this, QtPrivate::qStringLikeToArg(args)...);
        -: 1720:}
        -: 1721:
        -: 1722:template <bool HasChar8T>
        -: 1723:template <typename...Args>
        -: 1724:QString QBasicUtf8StringView<HasChar8T>::arg(Args &&...args) const
        -: 1725:{
        -: 1726:    return QtPrivate::argToQStringDispatch(*this, QtPrivate::qStringLikeToArg(args)...);
        -: 1727:}
        -: 1728:
        -: 1729:template <typename...Args>
        -: 1730:QString QAnyStringView::arg(Args &&...args) const
        -: 1731:{
        -: 1732:    return QtPrivate::argToQStringDispatch(*this, QtPrivate::qStringLikeToArg(args)...);
        -: 1733:}
        -: 1734:
        -: 1735:template <typename T>
        -: 1736:qsizetype erase(QString &s, const T &t)
        -: 1737:{
        -: 1738:    return s.removeIf_helper([&t](const auto &e) { return t == e; });
        -: 1739:}
        -: 1740:
        -: 1741:template <typename Predicate>
        -: 1742:qsizetype erase_if(QString &s, Predicate pred)
        -: 1743:{
        -: 1744:    return s.removeIf_helper(pred);
        -: 1745:}
        -: 1746:
        -: 1747:namespace Qt {
        -: 1748:inline namespace Literals {
        -: 1749:inline namespace StringLiterals {
        -: 1750:inline QString operator""_s(const char16_t *str, size_t size) noexcept
        -: 1751:{
        -: 1752:    return QString(QStringPrivate(nullptr, const_cast<char16_t *>(str), qsizetype(size)));
        -: 1753:}
        -: 1754:
        -: 1755:} // StringLiterals
        -: 1756:} // Literals
        -: 1757:} // Qt
        -: 1758:
        -: 1759:inline namespace QtLiterals {
        -: 1760:#if QT_DEPRECATED_SINCE(6, 8)
        -: 1761:
        -: 1762:QT_DEPRECATED_VERSION_X_6_8("Use _s from Qt::StringLiterals namespace instead.")
        -: 1763:inline QString operator""_qs(const char16_t *str, size_t size) noexcept
        -: 1764:{
        -: 1765:    return Qt::StringLiterals::operator""_s(str, size);
        -: 1766:}
        -: 1767:
        -: 1768:#endif // QT_DEPRECATED_SINCE(6, 8)
        -: 1769:} // QtLiterals
        -: 1770:
        -: 1771:// all our supported compilers support Unicode string literals,
        -: 1772:// even if their Q_COMPILER_UNICODE_STRING has been revoked due
        -: 1773:// to lacking stdlib support. But QStringLiteral only needs the
        -: 1774:// core language feature, so just use u"" here unconditionally:
        -: 1775:
        -: 1776:#define QT_UNICODE_LITERAL(str) u"" str
        -: 1777:
        -: 1778:namespace QtPrivate {
        -: 1779:template <qsizetype N>
        -: 1780:Q_ALWAYS_INLINE static QStringPrivate qMakeStringPrivate(const char16_t (&literal)[N])
        -: 1781:{
        -: 1782:    // NOLINTNEXTLINE(cppcoreguidelines-pro-type-const-cast)
        -: 1783:    auto str = const_cast<char16_t *>(literal);
        -: 1784:    return { nullptr, str, N - 1 };
        -: 1785:}
        -: 1786:} // namespace QtPrivate
        -: 1787:
        -: 1788:#define QStringLiteral(str) (QString(QtPrivate::qMakeStringPrivate(QT_UNICODE_LITERAL(str)))) /**/
        -: 1789:
        -: 1790:QT_END_NAMESPACE
        -: 1791:
        -: 1792:#include <QtCore/qstringbuilder.h>
        -: 1793:#include <QtCore/qstringconverter.h>
        -: 1794:
        -: 1795:#ifdef Q_L1S_VIEW_IS_PRIMARY
        -: 1796:#    undef Q_L1S_VIEW_IS_PRIMARY
        -: 1797:#endif
        -: 1798:
        -: 1799:#endif // QSTRING_H
